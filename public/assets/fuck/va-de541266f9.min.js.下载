!function(e,t){function i(e){layer.open({type:1,title:!1,skin:"v-div-layer",closeBtn:0,shift:0,time:2e3,shadeClose:!0,content:'<div class="v-layui-layer"><div class="v-layui-title"><div class="v-layui-title-left"><span class="xyvideo-icon-warning-white xyvideo-icon"></span>消息提示</div><div class="v-layui-title-right"><span class="xyvideo-icon-times xyvideo-icon layui-layer-close"></span></div></div><div class="v-layui-body clearfix" style="padding-top: 30px;padding-bottom: 30px;">'+e+"</div></div>"})}function a(e){var t="";return e.indexOf("@")>1?(t+=e[0],t+="****",t+=e[e.indexOf("@")-1],t+=e[e.indexOf("@")],t+=e.split("@")[1]):t=e,t}var o=e.rg={};o.isFunction=function(e){return"function"==typeof e},o.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},t(function(){function e(){var e=t(document).height(),i=t("body").height(),a=t(".xvideo-footer").height();e>i&&t(".xvideo-footer").height(a+(e-i)+9)}e(),_.throttle(function(){t(document).on("resize",function(t){e()})},1e3)}),t(".btn-user-profile").click(function(e){window.location.href="/my"}),layer.config({extend:["extend/layer.ext.js"]}),t.ajaxSetup({timeout:4e3,headers:{"X-CSRF-TOKEN":t('meta[name="csrf-token"]').attr("content")},dataType:"json",beforeSend:function(){window.v2Loading=layer.load(2)},complete:function(){window.v2Loading&&layer.close(window.v2Loading)},error:function(e,t,a){switch(e.status){case 401:i('登录后就可进行操作啦.<a href="/login">登录</a>/<a href="/register">注册</a>');break;case 500:i("服务器出现问题了，亲.")}}});var s=["on","one","off","trigger"],n={_stores:[],addStore:function(e){this._stores.push(e)}};s.forEach(function(e){n[e]=function(){var t=[].slice.call(arguments);this._stores.forEach(function(i){i[e].apply(null,t)})}}),e.RiotControl=n,t("a.xvideo-href-search").on("click",function(){var e=t('input[name="title"]').val();""==e?window.location.href="/v/search":window.location.href="/v/search?title="+encodeURI(e)}),t(".top-main-nav-collection").on("click",function(e){var t=window.location,i=document.title;try{window.external.addFavorite(t,i)}catch(e){try{window.sidebar.addPanel(i,t,"")}catch(e){alert("加入收藏失败，请使用Ctrl+D进行添加")}}}),t(window).ready(function(){window.v2Loading&&layer.close(window.v2Loading)}),t(window).ready(function(){window.v2Loading&&layer.close(window.v2Loading),t(".side-adv-btn-cls").on("click",function(){t(this).parent().remove()})}),t(".m-a-container").on("click",".m-a-btn-close",function(){var e=this;t.ajax({url:"/m/adv/"+t(e).parent().find("a").data().method,type:"GET",success:function(i){i.result&&t(e).parent().remove()}})}),e.PackageEmail=a,e.show_diy_layer=i}(window,$),this.XingYu=this.XingYu||{},this.XingYu.hbsTP=this.XingYu.hbsTP||{},this.XingYu.hbsTP.dialog=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,a){var o,s=t.helperMissing,n="function",l=this.escapeExpression;return'<div id="upload-details" class="modal fade in" tabindex="-1" data-focus-on="input:first" style="display: block; margin-top: -171.5px;" aria-hidden="false" data-backdrop="static" data-keyboard="false">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>\n        <h4 class="modal-title">确认上传</h4>\n    </div>\n    <div class="modal-body">\n        <h5>你上传的文件信息如下，请确认是否正确: </h3>\n        <dl class="dl-horizontal xvideo-preview-list">\n            <dt>视频分类: </dt>\n            <dd>'+l((o=null!=(o=t.type||(null!=e?e.type:e))?o:s,typeof o===n?o.call(e,{name:"type",hash:{},data:a}):o))+"</dd>\n            <dt>标题: </dt>\n            <dd>"+l((o=null!=(o=t.title||(null!=e?e.title:e))?o:s,typeof o===n?o.call(e,{name:"title",hash:{},data:a}):o))+"</dd>\n            <dt>描述: </dt>\n            <dd>"+l((o=null!=(o=t.description||(null!=e?e.description:e))?o:s,typeof o===n?o.call(e,{name:"description",hash:{},data:a}):o))+"</dd>\n            <dt>内容标签: </dt>\n            <dd>"+l((o=null!=(o=t.tags||(null!=e?e.tags:e))?o:s,typeof o===n?o.call(e,{name:"tags",hash:{},data:a}):o))+"</dd>\n            <dt>首发匿名: </dt>\n            <dd>"+l((o=null!=(o=t.isAnoumouys||(null!=e?e.isAnoumouys:e))?o:s,typeof o===n?o.call(e,{name:"isAnoumouys",hash:{},data:a}):o))+'</dd>\n        </dl>\n    </div>\n    <div class="modal-footer">\n        <button type="button" data-dismiss="modal" class="btn btn-default">取消</button>\n        <button type="button" class="btn btn-danger btn-confirm-upload">确认提交</button>\n    </div>\n</div>'},useData:!0}),this.XingYu.hbsTP.successTips=Handlebars.template({compiler:[6,">= 2.0.0-beta.1"],main:function(e,t,i,a){var o;return'<div class="xvideo-panel-header">\n    <div class="xvideo-panel-header-title pull-left clearfix">\n        找回密码\n    </div>\n    <div class="xvideo-panel-header-opeartion pull-right">\n\n    </div>\n</div>\n<div class="xvideo-panel-body">\n    <div class="xvideo-auth-register-container xvideo-margin-horizontal-auto">\n        <div class="xvideo-auth-register-body">\n            <div class="xvideo-auth-register-box xvideo-margin-transverse-auto ">\n                <div class="xvideo-auth-register-box-top xvideo-text-align-center xvideo-border-bottom-dashed">\n                    <span class="xvideo-margin-right-20"><img src="../images/icon_right_s.png" style=""></span>\n                    '+this.escapeExpression((o=null!=(o=t.content||(null!=e?e.content:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{name:"content",hash:{},data:a}):o))+'\n                </div>\n                <div class="xvideo-auth-register-box-bottom">\n                    <div class="xvideo-auth-register-button-group xvideo-margin-top-20 xvideo-text-align-center">\n                        <a name="login" class="btn xvideo-margin-right-20" href="/login">立即登录</a>\n                        <a name="index" class="btn btn-primary xvideo-margin-left-20" href="/">返回首页</a>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n'},useData:!0}),riot.tag("rv-pager",'<div class="xvideo-pager" if="{is_need_to_pager}"><div class="pagination pagination-centered"><ul><li><a if="{ is_first }" href="#" onclick="{goFirstPage}" class="disabled" disabled="disabled">首页</a><a if="{ !is_first }" href="#" onclick="{goFirstPage}">首页</a></li><li><a if="{ is_first }" href="#" class="disabled" onclick="{prev}">&#60;</a><a if="{ !is_first }" href="#" class="" onclick="{prev}">&#60;</a></li><li each="{ pagers }" class="{ active: isActive }"><a href="#" onclick="{turnToPage}">{page_index}</a></li><li><a if="{ is_last }" href="#" class="disabled" onclick="{next}">&#62;</a><a if="{ !is_last }" href="#" class="" onclick="{next}">&#62;</a></li><li><a if="{ is_last }" href="#" onclick="{goLastPage}" class="disabled" disabled="disabled">尾页</a><a if="{ !is_last }" href="#" onclick="{goLastPage}">尾页</a></li></ul>  <span class="ib xvideo-pager-infos"> 第 {current_page} 页 / 共 {last_page} 页 </span></div></div>',function(e){function t(e,t,i){return e-i>=1&&t-e>=i?{page_from:e-i,page_to:e+i}:1>=e-i&&t-e>=i?{page_from:1,page_to:e+i}:1>=e-i&&i>=t-e?{page_from:1,page_to:t}:e-i>=1&&i>=t-e?{page_from:e-i,page_to:t}:void 0}var i=void 0,a=void 0,o=void 0,s=void 0,n=this;n.is_need_to_pager=!1,this.next=function(e){n.is_last||RiotControl.trigger("pager_fetch_notFirst",i,o,s+1)},this.prev=function(e){n.is_first||RiotControl.trigger("pager_fetch_notFirst",i,o,s-1)},this.turnToPage=function(e){RiotControl.trigger("pager_fetch_notFirst",i,o,e.item.page_index)},this.goFirstPage=function(e){n.is_last&&RiotControl.trigger("pager_fetch_notFirst",i,o,1)},this.goLastPage=function(e){n.is_first&&RiotControl.trigger("pager_fetch_notFirst",i,o,a)},this.on("mount",function(){i=$('input[name="video_id"]').val(),RiotControl.trigger("pager_fetch",i)}),RiotControl.on("pager_changed",function(e){if(n.pagers=[],e.last_page>=2){for(var i=t(e.current_page,e.last_page,2),l=i.page_from;l<=i.page_to;l++)n.pagers.push({isActive:e.current_page===l,pid:l,page_index:l});a=n.last_page=e.last_page,s=n.current_page=e.current_page,o=e.per_page,n.is_first=e.isFirst,n.is_last=e.isLast,n.is_need_to_pager=!0,n.update()}else n.is_need_to_pager=!1})}),riot.tag("rv-myatt-user-icon",'<div class="myattention-list"><ul class="myattention-imglist"><li style="" each="{ opts.attentionin_list }"><a href="#"><img data-src="{ user_img_url }" class="img-circle" alt="60x60" riot-src="{ user_img_url }" data-holder-rendered="true" style="width: 60px; height: 60px;"></a><div class="xvideo-second-xxx-desc" style=""> { user_name } </div></li></ul></div>',function(e){}),riot.tag("rv-myatt-nothing",'<div class="myattention-nothing"><span class="xyvideo-icon xyvideo-icon-warning"></span>暂无记录 </div>',function(e){}),riot.tag("rv-myattlist",'<div class="myattention-border"><div class="myattention-title" style=""><span style="">关注列表</span></div><div class="myattention-content-title"><ul id="mytab" class="nav nav-tabs"><li class="active"><a href="#myattlist" data-toggle="tab">我关注的</a></li><li><a href="#attmelist" data-toggle="tab">关注我的</a></li></ul></div><div class="myattention-content-list clearfix tab-content" id="mytab-content"><div class="myattention-myattlist clearfix tab-pane fade in active" id="myattlist"><div class="clearfix" if="{opts.attentionin_list.length== 0}"><div class="myattention-nothing"><span class="xyvideo-icon xyvideo-icon-warning"></span>暂无记录 </div></div><div class="clearfix" if="{opts.attentionin_list.length !=0}"><div class="myattention-list"><ul><li each="{ opts.attentionin_list }"><a href="/profile/{ user_id }?per_page = 9" data-userlist-id="{ user_id }"><img data-src="{ user_img_url }" class="img-circle" alt="60x60" riot-src="{ user_img_url }" data-holder-rendered="true" style="width: 60px; height: 60px;"></a><div class="myattention-list-name"> { user_name } </div></li></ul></div></div></div><div class="xvideo-psncenter-myattention-info-attmelist clearfix tab-content tab-pane fade" id="attmelist"><div class="clearfix" if="{opts.myattention_list.length== 0}"><div class="myattention-nothing"><span class="xyvideo-icon xyvideo-icon-warning"></span>暂无记录 </div></div><div class="clearfix" if="{opts.myattention_list.length !=0}"><div class="myattention-list"><ul><li each="{ opts.myattention_list }"><a href="/profile/{ user_id }?per_page = 9" data-userlist-id="{ user_id }"><img data-src="{ user_img_url }" class="img-circle" alt="60x60" riot-src="{ user_img_url }" data-holder-rendered="true" style="width: 60px; height: 60px;"></a><div class="myattention-list-name"> { user_name } </div></li></ul></div></div></div></div><div class="xvideo-psncenter-myattention-info-pagging clearfix"></div></div>',function(e){}),riot.tag("rv-psncenter-detial",'<div class="xvideo-psncenter-psninfo-info" style=""><div class="my-center-psninfo-phote" style=""><a href="javascript:void(0)"><img riot-src="{ opts.head_href }" class="img-circle" style=""></a></div><span class="xyvideo-icon xyvideo-icon-edit pull-right my-center-psninfo-prifile" style=""></span><div class="xvideo-psncenter-psninfo-vipinfo" style=""><span style="color: #fc4d51;">{ opts.name }</span><a if="{ opts.user_vip==\'true\' }" class="xvideo-psncenter-psninfo-vip" style=""></a><a if="{ opts.user_vip==\'false\' }" class="xvideo-icon xyvideo-icon-error" style=""></a></div><div class="xvideo-psncenter-psninfo-list clearfix" style=""><ul class="clearfix"><li class="pull-left" style=""><div style=""><a href="javaScript:void(0)" style="">积分</a><a href="javaScript:void(0)" riot-style="">{ opts.credit }</a></div></li><div class="xvideo-vertical-line pull-left"></div><li class="pull-left "><div style="" class="xvideo-psncenter-psninfo-list-myvideo"><a href="javaScript:void(0)" style="cursor: pointer; ">视频</a><a href="javaScript:void(0)" style="cursor: pointer; ">{ opts.all_video_count }</a></div></li><div class="xvideo-vertical-line pull-left"></div><li class="pull-left" style=""><div style=""><a href="javaScript:void(0)" style="">注册</a><a href="javaScript:void(0)" riot-style="">{ opts.register_days }</a></div></li></ul></div></div><div class="xvideo-psncenter-psninfo-option"><ul class="current" style=""><li style=""><a href="javascript:void(0)" data-tag-name="rv-profile-data"><span class="xyvideo-icon xyvideo-icon-my-details"></span>我的资料 </a></li><li style=""><a href="javascript:void(0)" data-tag-name="rv-psncenter-mycollection"><span class="xyvideo-icon xyvideo-icon-my-favorite"></span>我的收藏 </a></li><li style=""><a href="javascript:void(0)" data-tag-name="rv-psncenter-myvideo"><span class="xyvideo-icon xyvideo-icon-my-movie"></span>我的视频 </a></li><li style=""><a href="javascript:void(0)" data-tag-name="rv-psncenter-security-center"><span class="xyvideo-icon xyvideo-icon-safe-center"></span>安全中心 </a></li></ul></div>',function(e){var t=e.fn_side_count;this.on("mount",function(){$(".xvideo-psncenter-psninfo-option").find("a").on("click",function(e){var i=$(e.currentTarget).data().tagName;if("rv-psncenter-mycollection"===i){var a={},o={};if(a.video_box_data=[],$.ajax({type:"get",url:"/my/collections",data:{per_page:16},async:!1,success:function(e){if(e.result===!0){var t=e.data.data;a.video_box_data=t,o=e.data;for(var i=0;i<t.length;i++)a.video_box_data[i].video_href="/v",a.video_box_data[i].margin_size="20"}else show_diy_layer("加载我的收藏失败!原因:"+e.data.message)}}),1===o.last_page||0===o.last_page);else{a.page={},a.pagebutton=[],a.page.ajax_url="/my/collections",a.page.current_page=o.current_page,a.page.last_page=o.last_page,a.page.prev_page_url="/my/collections?page="+(parseInt(o.current_page)-1),a.page.next_page_url="/my/collections?page="+(parseInt(o.current_page)+1),a.page.last_page_url="/my/collections?page="+o.last_page,a.page.first_page_url="/my/collections?page=1",a.page.button_need_ajax=1,a.page.fn_side_count=t,a.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.video_box_data=t;for(var a=0;a<t.length;a++)i.video_box_data[a].video_href="/v",i.video_box_data[a].margin_size="20";riot.mount($(".mycollection-box")[0],"rv-preview-video-box",i)}else show_diy_layer("加载分页失败!原因:"+e.data.message)};for(var s=t(a.page.current_page,a.page.last_page,3),n=s.page_from;n<=s.page_to;n++)n==a.page.current_page?a.pagebutton.push({page_button_url:"/my/collections",button_type:"v-page-number-button v-page-forl-button-activity",button_name:n}):a.pagebutton.push({page_button_url:"/my/collections",button_type:"v-page-number-button",button_name:n})}riot.mount($(".my-center-infolist-container")[0],"rv-mycollection",a)}else if("rv-psncenter-myvideo"===i){var l={},o={};if(l.video_box_data=[],$.ajax({type:"get",url:"/my/my_all_videos",async:!1,data:{per_page:16},success:function(e){if(e.result===!0){var t=e.data.data;o=e.data,l.video_box_data=t;for(var i=0;i<t.length;i++)l.video_box_data[i].video_href="/v",l.video_box_data[i].margin_size="20"}else show_diy_layer("加载我的视频失败!原因:"+e.data.message)}}),1===o.last_page||0===o.last_page);else{l.page={},l.pagebutton=[],l.page.ajax_url="/my/my_all_videos",l.page.current_page=o.current_page,l.page.last_page=o.last_page,l.page.prev_page_url="/my/my_all_videos?page="+(parseInt(o.current_page)-1),l.page.next_page_url="/my/my_all_videos?page="+(parseInt(o.current_page)+1),l.page.last_page_url="/my/my_all_videos?page="+o.last_page,l.page.first_page_url="/my/my_all_videos?page=1",l.page.button_need_ajax=1,l.page.fn_side_count=t,l.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.video_box_data=t;for(var a=0;a<t.length;a++)i.video_box_data[a].video_href="/v",i.video_box_data[a].margin_size="20";riot.mount($(".myvideo-videolist-box")[0],"rv-preview-video-box",i)}else show_diy_layer("加载分页失败!原因:"+e.data.message)};for(var s=t(l.page.current_page,l.page.last_page,3),n=s.page_from;n<=s.page_to;n++)n==l.page.current_page?l.pagebutton.push({page_button_url:"/my/my_all_videos",button_type:"v-page-number-button v-page-forl-button-activity",button_name:n}):l.pagebutton.push({page_button_url:"/my/my_all_videos",button_type:"v-page-number-button",button_name:n})}riot.mount($(".my-center-infolist-container")[0],"rv-psncenter-myvideo",l)}else"rv-profile-data"===i?riot.mount($(".my-center-infolist-container")[0],"rv-profile-data",xvideoData.user_info):"rv-psncenter-security-center"===i&&riot.mount($(".my-center-infolist-container")[0],"rv-psncenter-security-center-bindemail",{bindemail:xvideoData.user_info.bindemail,email:xvideoData.user_info.email,fakeemail:PackageEmail(xvideoData.user_info.email)})}),$(".my-center-psninfo-phote a").on("click",function(){var e=$(".my-center-psninfo-phote img").attr("src"),t={};t.chophoto_list=[],t.my_photo_src=e,$.ajax({type:"get",url:"/my/default_head_list",data:"",async:!1,success:function(e){var i=e;if(i.length<16)for(var a=0;a<i.length;a++)t.chophoto_list.push({user_img_url:i[a].href,user_name:i[a].name});else for(var a=0;16>a;a++)t.chophoto_list.push({user_img_url:i[a].href,user_name:i[a].name})}}),riot.mount($(".my-center-infolist-container")[0],"rv-myphoto",t)}),$(".my-center-psninfo-prifile").on("click",function(){riot.mount($(".my-center-infolist-container")[0],"rv-profile-data",xvideoData.user_info)}),$(".xvideo-psncenter-psninfo-list-myvideo").find("a").on("click",function(){var e={},i={};if(e.video_box_data=[],$.ajax({type:"get",url:"/my/my_all_videos",async:!1,data:{per_page:16},success:function(t){if(t.result===!0){var a=t.data.data;i=t.data,e.video_box_data=a;for(var o=0;o<a.length;o++)e.video_box_data[o].video_href="/v",e.video_box_data[o].margin_size="20"}else show_diy_layer("加载我的视频失败!原因:"+t.data.message)}}),1===i.last_page||0===i.last_page);else{e.page={},e.pagebutton=[],e.page.ajax_url="/my/my_all_videos",e.page.current_page=i.current_page,e.page.last_page=i.last_page,e.page.prev_page_url="/my/my_all_videos?page="+(parseInt(i.current_page)-1),e.page.next_page_url="/my/my_all_videos?page="+(parseInt(i.current_page)+1),e.page.last_page_url="/my/my_all_videos?page="+i.last_page,e.page.first_page_url="/my/my_all_videos?page=1",e.page.button_need_ajax=1,e.page.fn_side_count=t,e.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.video_box_data=t;for(var a=0;a<t.length;a++)i.video_box_data[a].video_href="/v",i.video_box_data[a].margin_size="20";riot.mount($(".xvideo-psncenter-myvideo-videolist-box")[0],"rv-preview-video-box",i)}else show_diy_layer("加载分页失败!原因:"+e.data.message)};for(var a=t(e.page.current_page,e.page.last_page,3),o=a.page_from;o<=a.page_to;o++)o==e.page.current_page?e.pagebutton.push({page_button_url:"/my/my_all_videos",button_type:"v-page-number-button v-page-forl-button-activity",button_name:o}):e.pagebutton.push({page_button_url:"/my/my_all_videos",button_type:"v-page-number-button",button_name:o})}riot.mount($(".my-center-infolist-container")[0],"rv-psncenter-myvideo",e)})})}),riot.tag("rv-user-attlist",'<div class="xvideo-psncenter-attentionlist-title" style=""><ul id="myTab" class="nav nav-tabs"><li class="active" style="margin-left:25px;"><a href="#myattgroup" data-toggle="tab"> 我关注的 </a></li><li style="margin-left:58px;"><a href="#attmegroup" data-toggle="tab">关注我的</a></li></ul></div><div class="xvideo-psncenter-attentioninfo-imglist tab-content" id="myTabContent"><div class="xvideo-attentioninfoimg-myattgroup clearfix tab-pane fade in active" id="myattgroup"><div class="clearfix"><div class="xvideo-attentioninfoimg-myattgroup-list"><ul class="xvideo-attentioninfoimg-list"><li style="" each="{ opts.attentionin_list }"><a href="/profile/{ user_id }?per_page = 9" data-userlist-id="{ user_id }"><img data-src="{ user_img_url }" class="img-circle" alt="60x60" riot-src="{ user_img_url }" data-holder-rendered="true" style="width: 60px; height: 60px;"></a><div class="xvideo-second-xxx-desc" riot-style=""> { user_name } </div></li></ul></div></div></div><div class="xvideo-attentioninfoimg-attmegroup tab-pane fade" id="attmegroup"><div class="clearfix"><div class="xvideo-attentioninfoimg-myattgroup-list"><ul class="xvideo-attentioninfoimg-list"><li style="" each="{ opts.myattention_list }"><a href="/profile/{ user_id }?per_page = 9" data-userlist-id="{ user_id }"><img data-src="{ user_img_url }" class="img-circle" alt="60x60" riot-src="{ user_img_url }" data-holder-rendered="true" style="width: 60px; height: 60px;"></a><div class="xvideo-second-xxx-desc" riot-style=""> { user_name } </div></li></ul></div></div></div></div><div class="xvideo-psncenter-attentioninfo-imoreinfo" style=""><a href="javaScript:void(0)"> 更多... </a></div>',".xvideo-psncenter-attentioninfo-title { margin-top: 20px; } .xvideo-psncenter-attentioninfo-imglist { position: relative; height: 317px; } .xvideo-attentioninfoimg-myattgroup-list ul li { float: left; margin-right: 20px; margin-top: 23px; } .xvideo-attentioninfoimg-myattgroup-list ul li div { text-align: center; color: #cccccc; } .xvideo-psncenter-attentioninfo-imoreinfo { font-size: 12px; color: #a0a0a0; float: right; margin: 15px; } .xvideo-psncenter-attentioninfo-imoreinfo > a { font-size: 12px; color: #a0a0a0; text-decoration: none; } .xvideo-attentioninfoimg-myattgroup { position: absolute; margin-left: 30px; } .xvideo-attentioninfoimg-attmegroup { margin-left: 30px; } .xvideo-psncenter-attentionlist-title .nav-tabs { border-bottom: 0px; } .xvideo-psncenter-attentionlist-title .nav-tabs > li.active > a, .xvideo-psncenter-attentionlist-title .nav-tabs > li.active > a:hover, .xvideo-psncenter-attentionlist-title .nav-tabs > li.active > a:focus { color: #fc4d51; border: 0; background-color: transparent; border-bottom: 2px solid #fc4d51; cursor: default; } .xvideo-psncenter-attentionlist-title .nav > li > a:hover, .xvideo-psncenter-attentionlist-title .nav > li > a:focus { text-decoration: none; background-color: transparent; border-bottom: 2px solid #fc4d51; color: #fc4d51; } .xvideo-psncenter-attentionlist-title .nav-tabs > li > a { margin-right: 2px; line-height: 1.42857143; border: 0px; border-radius: 4px 4px 0 0; color: #999999; } .xvideo-psncenter-attentionlist-title { margin-top: 10px; } .xvideo-psncenter-attentionlist-title ul li a { color: black; font-size: 14px; }",function(e){this.on("mount",function(){$(".xvideo-psncenter-attentioninfo-imoreinfo").find("a").on("click",function(e){var t={};t.attentionin_list=[],t.myattention_list=[],$.ajax({type:"get",url:"/my/attentions",data:"",async:!1,success:function(e){if(e.result===!0){var i=e.data.data;if(i.length<35)for(var a=0;a<i.length;a++)t.attentionin_list.push({user_img_url:i[a].head_href,user_id:i[a].id,user_name:i[a].name});else for(var a=0;35>a;a++)t.attentionin_list.push({user_img_url:i[a].head_href,user_id:i[a].id,user_name:i[a].name})}else show_diy_layer("加载关注我的list失败!原因:"+e.data.message)}}),$.ajax({type:"get",url:"/my/been_attentions",data:"",async:!1,success:function(e){if(e.result===!0){var i=e.data.data;if(i.length<35)for(var a=0;a<i.length;a++)t.myattention_list.push({user_img_url:i[a].head_href,user_id:i[a].id,user_name:i[a].name});else for(var a=0;35>a;a++)t.myattention_list.push({user_img_url:i[a].head_href,user_id:i[a].id,user_name:i[a].name})}else show_diy_layer("加载我关注的list失败!原因:"+e.data.message)}}),riot.mount($(".my-center-infolist-container")[0],"rv-myattlist",t)})})}),riot.tag("rv-user-icon",'<ul class="xvideo-attentioninfoimg-list"><li style="" each="{ opts.attentionin_list }"><a href="/profile/{ user_id }?per_page = 9" data-userlist-id="{ user_id }"><img data-src="{ user_img_url }" class="img-circle" alt="60x60" riot-src="{ user_img_url }" data-holder-rendered="true" style="width: 60px; height: 60px;"></a><div class="xvideo-second-xxx-desc" style=""> { user_name } </div></li></ul>',".xvideo-attentioninfoimg-list li > div { width: 60px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; } .xvideo-second-xxx-desc { color: #cccccc; }",function(e){this.on("mount",function(){})}),riot.tag("rv-mycollection",'<div class="mycollection-border"><div class="mycollection-title"><span style="">我的收藏</span></div><div class="mycollection-content"></div><div class="v-rv-page-box" style="padding: 0px 0px 10px 0px;"></div></div>',function(e){function t(e,t,i){return e-i>=1&&t-e>=i?{page_from:e-i,page_to:e+i}:1>=e-i&&t-e>=i?{page_from:1,page_to:e+i}:1>=e-i&&i>=t-e?{page_from:1,page_to:t}:e-i>=1&&i>=t-e?{page_from:e-i,page_to:t}:void 0}var i=this,a=t;this.on("mount",function(){0!=i.opts.video_box_data.length?riot.mount($(".mycollection-content",i.root)[0],"rv-preview-video-box",{video_box_data:i.opts.video_box_data}):riot.mount($(".mycollection-content",i.root)[0],"rv-myvideo-nothing"),i.opts.pagebutton&&riot.mount($(".v-rv-page-box",i.root)[0],"rv-page-box",{current_page:i.opts.page.current_page,last_page:i.opts.page.last_page,prev_page_url:i.opts.page.prev_page_url,next_page_url:i.opts.page.next_page_url,last_page_url:i.opts.page.last_page_url,first_page_url:i.opts.page.first_page_url,fn_mount_video:i.opts.page.fn_mount_video,button_need_ajax:i.opts.page.button_need_ajax,fn_side_count:i.opts.page.fn_side_count,ajax_url:i.opts.page.ajax_url,pages:i.opts.pages,pagebutton:i.opts.pagebutton});var e=$(".mycollection-content");$.each(e,function(){$(this).on("mouseover",".v-search-video-box-video-info",function(e){$(e.currentTarget).find(".v-mask-video-delete").show(),$(e.currentTarget).find(".v-mask-layer").hide()}),$(this).on("mouseout",".v-search-video-box-video-info",function(e){$(e.currentTarget).find(".v-mask-video-delete").hide(),$(e.currentTarget).find(".v-mask-layer").show()})}),$(".mycollection-content").on("click",".v-mask-video-delete-font",function(e){var t=e.currentTarget.getAttribute("data-collectionvideo-id");$.ajax({type:"get",url:"/my/collection_delete/"+t,data:"",success:function(e){if(e.result){var t={},i={};if(t.video_box_data=[],$.ajax({type:"get",url:"/my/collections",data:{per_page:16},async:!1,success:function(e){if(e.result===!0){var a=e.data.data;t.video_box_data=a,i=e.data;for(var o=0;o<a.length;o++)t.video_box_data[o].video_href="/v",t.video_box_data[o].margin_size="20"}else show_diy_layer("加载我的收藏失败!失败原因:"+e.data.message)}}),1===i.last_page||0===i.last_page);else{t.page={},t.pagebutton=[],t.page.ajax_url="/my/collections",t.page.current_page=i.current_page,t.page.last_page=i.last_page,t.page.prev_page_url="/my/collections?page="+(parseInt(i.current_page)-1),t.page.next_page_url="/my/collections?page="+(parseInt(i.current_page)+1),t.page.last_page_url="/my/collections?page="+i.last_page,t.page.first_page_url="/my/collections?page=1",t.page.button_need_ajax=1,t.page.fn_side_count=a,t.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.video_box_data=t;for(var a=0;a<t.length;a++)i.video_box_data[a].video_href="/v",i.video_box_data[a].margin_size="20";riot.mount($(".mycollection-content")[0],"rv-preview-video-box",i)}else show_diy_layer("加载分页失败!失败原因:"+e.data.message)};for(var o=a(t.page.current_page,t.page.last_page,3),s=o.page_from;s<=o.page_to;s++)s==t.page.current_page?t.pagebutton.push({page_button_url:"/my/collections",button_type:"v-page-number-button v-page-forl-button-activity",button_name:s}):t.pagebutton.push({page_button_url:"/my/collections",button_type:"v-page-number-button",button_name:s})}riot.mount($(".my-center-infolist-container")[0],"rv-mycollection",t)}else show_diy_layer(e.data.message)}})})})}),riot.tag("rv-myexcodes",'<div class="myexcodes-spread clearfix"><div class="myexcodes-title"><div class="myexcodes-title-desc pull-left">我的兑换码</div><div class="myexcodes-title-return pull-right">返回 ></div></div><div class="myexcodes-content clearfix"><table class="myexcodes-content-table"><thead><tr><th style="width: 170px;">获得日期</th><th style="width: 220px;">VIP类型</th><th style="width: 200px;">到期时间</th><th style="width: 200px;">兑换码</th><th style=""></th></tr></thead><tbody if="{ opts.excodeList.length!=0 }"><tr each="{ opts.excodeList }"><td>{created_at}</td><td>{type_name}</td><td>{end_at}</td><td>{code}</td><td><span if="{ status_num!=1 }" >{status}</span><div class="myexcodes-copy-btn" if="{ status_num==1 }" data-clipboard-text="{code}">复制</div></td></tr></tbody></table><div class="myexcodes-nothing" if="{ opts.excodeList.length==0 }"><div class="myexcodes-nothing-list"><span class="xyvideo-icon xyvideo-icon-warning"></span>暂无记录 </div><div class="myexcodes-nothing-btn">获取兑换码</div></div></div><div class="v-rv-page-box" style="padding: 0px 0px 10px 0px;"></div></div>',function(e){var t=this;this.on("mount",function(){t.opts.pagebutton&&riot.mount($(".v-rv-page-box",t.root)[0],"rv-page-box",{current_page:t.opts.page.current_page,last_page:t.opts.page.last_page,prev_page_url:t.opts.page.prev_page_url,next_page_url:t.opts.page.next_page_url,last_page_url:t.opts.page.last_page_url,first_page_url:t.opts.page.first_page_url,fn_mount_video:t.opts.page.fn_mount_video,button_need_ajax:t.opts.page.button_need_ajax,fn_side_count:t.opts.page.fn_side_count,ajax_url:t.opts.page.ajax_url,pages:t.opts.pages,pagebutton:t.opts.pagebutton}),$(".myexcodes-title-return").on("click",function(){riot.mount($(".my-center-infolist-container")[0],"rv-myspread",xvideoData)});var e=new Clipboard(".myexcodes-copy-btn");e.on("success",function(e){console.log("文字已复制到剪贴板中")}),e.on("error",function(e){console.log(e)}),$(".myexcodes-nothing-btn").on("click",function(e){riot.mount($(".my-center-infolist-container")[0],"rv-myspread",xvideoData)})})}),riot.tag("rv-myorders",'<div class="myorders-spread clearfix"><div class="myorders-title"><div class="myorders-title-desc pull-left">我的订单</div><div class="myorders-title-return pull-right">返回 ></div></div><div class="myorders-content clearfix"><table class="myorders-content-table"><thead><tr><th style="width: 160px;">充值日期</th><th style="width: 140px;">VIP类型</th><th style="width: 160px;">到期时间</th><th style="width: 150px;">支付金额</th><th style="width: 140px;">支付方式</th><th style="">订单状态</th></tr></thead><tbody if="{ opts.orderList.length!=0 }" ><tr each="{ opts.orderList }"><td>{created_at}</td><td>{vip}</td><td>{end_at}</td><td>{price}元</td><td>{payment}</td><td><span if="{status!=0}">{status_title}</span><span if="{status==0}">等待确认</span></td></tr></tbody></table><div class="myorders-nothing" if="{ opts.orderList.length==0 }"><div class="myorders-nothing-list"><span class="xyvideo-icon xyvideo-icon-warning"></span>暂无记录 </div><a href="/upgrade" target="_blank"><div class="myorders-nothing-btn">立即开通</div></a></div></div><div class="v-rv-page-box" style="padding: 0px 0px 10px 0px;">         </div></div>',function(e){var t=this;this.on("mount",function(){t.opts.pagebutton&&riot.mount($(".v-rv-page-box",t.root)[0],"rv-page-box",{current_page:t.opts.page.current_page,last_page:t.opts.page.last_page,prev_page_url:t.opts.page.prev_page_url,next_page_url:t.opts.page.next_page_url,last_page_url:t.opts.page.last_page_url,first_page_url:t.opts.page.first_page_url,fn_mount_video:t.opts.page.fn_mount_video,button_need_ajax:t.opts.page.button_need_ajax,fn_side_count:t.opts.page.fn_side_count,ajax_url:t.opts.page.ajax_url,pages:t.opts.pages,pagebutton:t.opts.pagebutton}),$(".myorders-title-return").on("click",function(){riot.mount($(".my-center-infolist-container")[0],"rv-myvip",xvideoData.user_info)})})}),riot.tag("rv-myphoto-user-icon",'<div class="myphoto-list clearfix"><ul class="myphoto-list clearfix"><li style="" each="{ opts.attentionin_list }"><a href="#"><img data-src="{ user_img_url }" class="img-circle" alt="60x60" riot-src="{ user_img_url }" data-holder-rendered="true" style="width: 66px; height: 66px;"></a></li></ul></div>',function(e){}),riot.tag("rv-myphoto-choose-btn",'<div class="myphoto-choose-btn"><button type="button" name="btn-login" class="btn" style="">选择文件</button></div>',function(e){}),riot.tag("rv-myphoto",'<div class="myphoto-border"><div class="myphoto-title" style=""><span style="">我的资料</span></div><div class="myphoto-content" style=""><div class="myphoto-content-title" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>当前我的头像 </div><div class="myphoto-content-tips" style=""> 如果您还没有设置自己的头像，系统会显示为默认头像，您需要自己上传一张新照片来作为自己的个人头像 </div><div class="myphoto-content-img" style=""><img data-src="holder.js/140x140" riot-src="{ opts.my_photo_src }" class="img-circle" alt="蝙蝠侠的起源"></div></div><div class="myphoto-set" style=""><div class="myphoto-set-title" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>设置我的新头像 </div><div class="myphoto-set-tips" style=""> 请选择一个新照片进行上传编辑，投稿箱保存后，您可能需要刷新一下本界面（按F5键），才能查看最新的头像效果 </div><div class="myphoto-photolist-title"><ul id="mytab" class="nav nav-tabs"><li class="active"><a href="#choosephoto" data-toggle="tab">选择头像</a></li><li style="display:none;"><a href="#definephoto" data-toggle="tab">自定义头像</a></li></ul></div><div class="myphoto-photolist clearfix tab-content" id="mytab-content"><div class="myphoto-set-choosephoto clearfix clearfix tab-pane fade in active" id="choosephoto"><div class="myphoto-list clearfix"><ul class="myphoto-list clearfix"><li style="" each="{ opts.chophoto_list }"><a href="javaScript:void(0)" data-defphoto-name="{ user_name }" style="position:relative;"><img data-src="{ user_img_url }" class="img-circle" alt="60x60" riot-src="{ user_img_url }" data-holder-rendered="true" style="width: 66px; height: 66px;"><div class="myphoto-list-mask" style=""><span class="xyvideo-icon xyvideo-icon-allright"></span></div></a></li></ul></div></div><div class="myphoto-definephoto clearfix tab-pane fade in" id="definephoto" style="display:none;"><div class="myphoto-choose-btn"><button type="button" name="btn-login" class="btn">选择文件</button></div></div></div></div><div class="myphoto-btn-modify"><div class="myphoto-modifybtn"><button type="button" name="btn-login" class="btn">确认修改</button></div></div></div>',function(e){
this.on("mount",function(){var e,t;$(".myphoto-list").find("a").on("click",function(i){e=i.currentTarget.getAttribute("data-defphoto-name"),t=i.currentTarget.children[0].getAttribute("src"),$(".myphoto-list-mask").hide();var a=i.currentTarget.children[1];$(a).css("display","block")}),$(".myphoto-modifybtn button").on("click",function(i){$.ajax({type:"get",url:"/my/default_head_set/"+e,data:"",success:function(e){1==e.result?($(".myphoto-content-img img").attr("src",t),$(".my-center-psninfo-phote img").attr("src",t),show_diy_layer("头像修改成功!")):show_diy_layer("头像修改失败!失败原因:"+e.data.message)}})})})}),riot.tag("rv-profile-data",'<div class="myprofile-border"><div class="myprofile-title" style=""><span style="">我的资料</span></div><div class="myprofile-detail" style=""><div class="myprofile-detail-title" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>帐号信息 </div><div class="myprofile-detail-info" style=""><div class="form-group col-sm-12" style=""><label for="account" class="col-sm-2 control-label" style="">帐号：</label><div class="col-sm-10" riot-style=""> { opts.name } </div></div><div class="form-group col-sm-12" style=""><label for="account" class="col-sm-2 control-label" style="">视频：</label><div class="col-sm-10" riot-style=""> { opts.video_count } </div></div><div class="form-group col-sm-12" style=""><label for="account" class="col-sm-2 control-label" style="">自拍：</label><div class="col-sm-10" riot-style=""> { opts.selftime_count } </div></div><div class="form-group col-sm-12" style=""><label for="account" class="col-sm-2 control-label" style="">积分：</label><div class="col-sm-10" riot-style=""> { opts.credit } </div></div><div class="form-group col-sm-12" style=""><label for="account" class="col-sm-2 control-label" style="">称号：</label><div class="col-sm-10" riot-style=""> { opts.title } </div></div></div></div><div class="myprofile-psninfo " style=""><div class="myprofile-info-titile" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>个人信息 </div><div class="myprofile-psninfo-info" style=""><div class="form-group col-sm-12 xvideo-hide" style=""><label for="account" class="col-sm-2 control-label" style="">昵称：</label><div class="col-sm-10" style="width:256px;height:30px;padding:0px;"><input type="text" class="form-control" id="account" style="height: 30px;" value="{ opts.nickname }"></div></div><div class="form-group col-sm-12" style=""><label for="account" class="col-sm-2 control-label" style="">性别：</label><div if="{ opts.sex==1 }" style=""><label class="checkbox-inline"><input type="radio" name="sex" value="1" checked> 男 </label><label class="checkbox-inline"><input type="radio" name="sex" value="0"> 女 </label></div><div if="{ opts.sex==0 }" style=""><label class="checkbox-inline"><input type="radio" name="sex" value="1"> 男 </label><label class="checkbox-inline"><input type="radio" name="sex" value="0" checked> 女 </label></div></div><div class="form-group col-sm-12" style=""><label for="account" class="col-sm-2 control-label" style="">地区：</label><div class="col-sm-10" style="padding-left: 1px;"><div class="rv-profile-select-province" provincelist="{ opts.location }"></div></div></div><div class="form-group col-sm-12" style="margin-left: -14px;"><label for="account" class="col-sm-2 control-label" style="width:70px;margin-left:-15px;">出生日期：</label><div class="col-sm-10"><input type="text" class="form-control" id="birthday" readonly style="height: 34px;" value="{ opts.birthday }" onclick="WdatePicker({isShowClear:false,readOnly:true})"></div></div></div></div><div class="myprofile-myprofile-psninfo-character" style=""><div class="myprofile-character-titile" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>个性信息 </div><div class="myprofile-psninfo-character-info clearfix" style=""><div class="form-group col-sm-12" style=""><label for="account" class="col-sm-2 control-label" style="">个性签名：</label><div class="col-sm-10" style=""><textarea cols="5" class="form-control" riot-style="">{ opts.signature }</textarea></div><div class="myprofile-psninfo-character-info-help-block"><span class="xyvideo-icon xyvideo-icon-cancel3" style="font-size: 16px;vertical-align: text-bottom;margin-right: 3px;"></span>个性签名的长度不能超过140个字! </div></div></div></div><div class="myprofiler-psninfo-btn" style=""><div class="video-pscenter-myprofiler-psninfo-btn-titile" style=""></div><div class="myprofile-psninfo-btn-info" style=""><button type="button" name="btn-login" class="btn video-psncenter-info-mail-btn" style=""> 确认修改 </button></div></div></div>',function(e){var t=this;this.on("mount",function(){riot.mount($(".rv-profile-select-province"),"rv-profile-select-province",{provinceList:t.opts.location}),$('input[type="radio"]').iCheck({radioClass:"iradio_square-pink"}),$(".myprofile-psninfo-character-info").find("textarea").on("blur",function(e){$(".myprofile-psninfo-character-info textarea").val().length>140?$(".myprofile-psninfo-character-info-help-block").show():$(".myprofile-psninfo-character-info-help-block").hide()});var e={};$(".myprofiler-psninfo-btn button").on("click",function(){e._token=$('input[name="_token"]').val(),e.sex=parseInt($(":checked").val()),e.signature=$(".myprofile-psninfo-character-info textarea").val(),$(".myprofile-psninfo-character-info textarea").val().length>140||(e.register_region=$("#select-province").val(),e.birthday=$("#birthday").val(),$.ajax({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},url:"/my/update-info",method:"POST",async:!1,data:e,success:function(e){e.result?show_diy_layer("我的资料修改成功!"):show_diy_layer(e.data.message)}}))})})}),riot.tag("rv-profile-select-province",'<div class="form-group" style="display: inline-block;margin:0px;"><select class="form-control" id="select-province"><option value="{ id }" each="{ opts.provinceList }"> { name }</option></select></div>',function(e){var t=this;this.on("mount",function(){null==xvideoData.user_info.location[0].name?t.opts.provinceList=xvideoData.user_info.location:t.opts.provinceList=xvideoData.user_info.location.reverse(),t.update(),null!=xvideoData.user_info.register_region&&$("#select-province").val(xvideoData.user_info.register_region)})}),riot.tag("rv-myspread",'<div class="myspread-spread clearfix"><div class="myspread-div-title clearfix"><div class="myspread-spread-title-line pull-left"></div><div class="myspread-spread-title-desc pull-left">推广中心</div><div class="myspread-spread-title-line pull-left"></div></div><div class="form-group col-sm-12 myspread-link-content clearfix"><label class="control-label pull-left">我的推广链接：</label><input type="text" class="form-control pull-left myspread-link-input" id="myspread-link-input" value="{opts.share_url}" placeholder="请输入验证码"><button type="button" class="btn pull-left myspread-link-btn" data-clipboard-target="#myspread-link-input"> 复制 </button></div></div><div class="myspread-exchange"><div class="myspread-div-title clearfix"><div class="myspread-exchange-title-line pull-left"></div><div class="myspread-exchange-title-desc pull-left">VIP兑换码</div><div class="myspread-exchange-title-line pull-left"></div><a class="myspread-exchange-code-a">我的兑换码</a></div><div class="myspread-exchange-content"><div class="form-group col-sm-12" style="margin-bottom:20px;"><label for="" class="col-sm-2 control-label myspread-lable" style="">账户积分：</label><div class="col-sm-10" style="width:256px;height:34px;padding:0px;line-height: 34px;"> {opts.user_info.credit} </div></div><div class="form-group col-sm-12" style="margin-bottom:20px;"><label for="" class="col-sm-2 control-label myspread-lable" style="">兑换类型：</label><div class="col-sm-10" style="padding-left: 1px;"><div class="rv-myspread-select-viptype" typelist="{ opts.exchange_type }"></div></div></div><div class="form-group col-sm-12" style="margin-bottom:20px;"><label for="" class="col-sm-2 control-label myspread-lable" style="">消费积分：</label><div class="col-sm-10" style="width:256px;height:34px;padding:0px;line-height: 34px;"><span class="myspread-exchange-price">200</span></div></div><div class="" style=""><button type="button" name="btn-login" class="btn myspread-btn-exchage"> 确认兑换 </button></div></div></div><div class="myspread-to-vip"><div class="myspread-div-title clearfix"><div class="myspread-how-title-line pull-left"></div><div class="myspread-how-title-desc pull-left">如何成为VIP？</div><div class="myspread-how-title-line pull-left"></div></div><div class="myspread-to-vip-desc"><p>1.通过分享你的推广链接到QQ群、朋友圈等等，在其他用户访问你分享的链接后，你的账户将获得相应的积分；</p><p class="p-margin-left">每个用户访问你分享的链接，你都可以获得2积分。</p><p>2.使用账户积分，在推广中心兑换VIP兑换码；</p><p>3.在VIP中心使用你的的兑换码兑换VIP；</p><p class="p-margin-left">点击 <button type="button" class="myspread-to-vip-btn">立即兑换</button> 去兑换VIP </p></div></div>',function(e){function t(e,t,i){return e-i>=1&&t-e>=i?{page_from:e-i,page_to:e+i}:1>=e-i&&t-e>=i?{page_from:1,page_to:e+i}:1>=e-i&&i>=t-e?{page_from:1,page_to:t}:e-i>=1&&i>=t-e?{page_from:e-i,page_to:t}:void 0}var i=this;this.on("mount",function(){function e(e,t){var i=layer.open({type:1,title:!1,skin:"v-div-layer",closeBtn:0,shift:0,shadeClose:!0,content:'<div class="v-layui-layer"><div class="v-layui-title"><div class="v-layui-title-right"><span class="xyvideo-icon-times xyvideo-icon layui-layer-close"></span></div></div><div class="v-layui-body clearfix" style="padding-top: 30px;padding-bottom: 30px;"><div class="v-layui-img-'+t+'"></div><div class="myspread-tips-success-'+t+'"><p>恭喜您！兑换成功。</p><p>截止目前您的账户积分为：<span style="color:#de899e">'+e.credit+'<span></p><div class="myspread-tips-success-excode">兑换码：<input type="text" id="myspread-tips-input-excode" value="'+e.code+'"/><button class="myspread-tips-success-copy-btn" data-clipboard-target="#myspread-tips-input-excode">复制</button></div><div class="myspread-tips-success-btngroup"><button class="myspread-btn-vip" >立即兑换VIP</button>或者去 <a href="/my"><button class="myspread-btn-center" >个人中心</button></a>查看积分</div></div><div class="myspread-tips-fail-'+t+'"><p>'+e+'</p></div><div style="display:none;">'+e+"</div></div></div>"});$(".myspread-tips-fail-btn").on("click",function(e){layer.close(i)}),$(".myspread-btn-vip").on("click",function(e){layer.close(i),riot.mount($(".my-center-infolist-container")[0],"rv-myvip",xvideoData.user_info)});var a=new Clipboard(".myspread-link-btn");a.on("success",function(e){console.info("复制成功：Action:",e.action)}),a.on("error",function(e){console.error("复制失败：Action:",e.action)});var o=new Clipboard(".myspread-tips-success-copy-btn");o.on("success",function(e){console.info("复制成功：Action:",e.action)}),o.on("error",function(e){console.error("复制失败：Action:",e.action)})}riot.mount($(".rv-myspread-select-viptype"),"rv-myspread-select-viptype",{typeList:i.opts.exchange_type.reverse()}),$(".myspread-exchange-code-a").on("click",function(e){var i={},a={};if(i.excodeList=[],$.ajax({type:"get",url:"/my/codes",data:{per_page:13},async:!1,success:function(e){if(e.result===!0){var t=e.data.data;console.log(t),i.excodeList=t,a=e.data,console.log(a)}else show_diy_layer("加载我的订单失败!原因:"+e.data.message)}}),1===a.last_page||0===a.last_page);else{i.page={},i.pagebutton=[],i.page.ajax_url="/my/codes",i.page.current_page=a.current_page,i.page.last_page=a.last_page,i.page.prev_page_url="/my/codes?page="+(parseInt(a.current_page)-1),i.page.next_page_url="/my/codes?page="+(parseInt(a.current_page)+1),i.page.last_page_url="/my/codes?page="+a.last_page,i.page.first_page_url="/my/codes?page=1",i.page.button_need_ajax=1,i.page.fn_side_count=t,i.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.excodeList=t,riot.mount($(".my-center-infolist-container")[0],"rv-myexcodes",i)}else show_diy_layer("加载分页失败!原因:"+e.data.message)};for(var o=t(i.page.current_page,i.page.last_page,3),s=o.page_from;s<=o.page_to;s++)s==i.page.current_page?i.pagebutton.push({page_button_url:"/my/codes",button_type:"v-page-number-button v-page-forl-button-activity",button_name:s}):i.pagebutton.push({page_button_url:"/my/codes",button_type:"v-page-number-button",button_name:s})}riot.mount($(".my-center-infolist-container")[0],"rv-myexcodes",i)}),$(".myspread-to-vip-btn").on("click",function(e){riot.mount($(".my-center-infolist-container")[0],"rv-myvip",xvideoData.user_info)}),$(".myspread-btn-exchage").on("click",function(t){var a=$("#select-vip-type").val(),o=$("#select-vip-type option[value="+$("#select-vip-type").val()+"]").data().price;return i.opts.user_info.credit<o?(show_diy_layer("对不起!您的账户积分不够!"),!1):void $.ajax({type:"post",url:"/my/get_code",data:{vip_type_id:a,credit:o},success:function(t){t.result?(e(t.data,t.result),i.opts.user_info.credit=t.data.credit,i.update()):e(t.data.message,t.result)}})})})}),riot.tag("rv-myspread-select-viptype",'<div class="form-group" style="display: inline-block;margin:0px;"><select class="form-control" id="select-vip-type"><option value="{ type_id }" data-price="{price}" each="{ opts.typeList }"> { type_name }</option></select></div>',function(e){this.on("mount",function(){var e=$("#select-vip-type option[value="+$("#select-vip-type").val()+"]").data().price;$(".myspread-exchange-price").text(e),$("#select-vip-type").change(function(){var e=$("#select-vip-type option[value="+$("#select-vip-type").val()+"]").data().price;$(".myspread-exchange-price").text(e)})})}),riot.tag("rv-psncenter-myvideo",'<div class="myvideo-border"><div class="myvideo-title" style=""><span style="">我的视频</span></div><div class="myvideo-upload"><div class="myvideo-upload-desc"><a class="myvideo-upload-desc-img" href="/v/upload"></a></div></div><div class="myvideo-videolist-box"></div><div class="v-rv-page-box" style="padding: 0px 0px 10px 0px;"></div></div>',function(e){var t=this;this.on("mount",function(){0!=t.opts.video_box_data.length?riot.mount($(".myvideo-videolist-box",t.root)[0],"rv-preview-video-box",{video_box_data:t.opts.video_box_data}):riot.mount($(".myvideo-videolist-box",t.root)[0],"rv-myvideo-nothing"),t.opts.pagebutton&&riot.mount($(".v-rv-page-box",t.root)[0],"rv-page-box",{current_page:t.opts.page.current_page,last_page:t.opts.page.last_page,prev_page_url:t.opts.page.prev_page_url,next_page_url:t.opts.page.next_page_url,last_page_url:t.opts.page.last_page_url,first_page_url:t.opts.page.first_page_url,fn_mount_video:t.opts.page.fn_mount_video,button_need_ajax:t.opts.page.button_need_ajax,fn_side_count:t.opts.page.fn_side_count,ajax_url:t.opts.page.ajax_url,pages:t.opts.pages,pagebutton:t.opts.pagebutton}),$(".myvideo-videolist-box").on("click",".v-mask-video-modify-font",function(e){var t=$(e.currentTarget).data().videoId;$.ajax({type:"get",url:"/my/video_info/"+t,data:"",async:!1,success:function(e){var t=e.data;if(e.result){var i={};i.video_id=t.video_id,i.id_encrypt=t.id_encrypt,1==t.type_id?i.video_classifiy="自拍":i.video_classifiy="视频",i.video_title=t.title,i.video_desc=t.description;for(var a="",o=0;o<t.tags.length;o++)a=a+t.tags[o].name+"     ";i.video_content_tab=a,riot.mount($(".my-center-infolist-container")[0],"rv-modifymyvideo",i)}else show_diy_layer(e.data.message)}})})})}),riot.tag("rv-modifymyvideo",'<div class="modifyvideo-title"><span>编辑视频</span><button type="button" data-myvideo-id="{ opts.video_id }" name="btn-delete" class="btn modifyvideo-deletebtn pull-right" style="">删除 </button></div><div class="modifyvideo-content clearfix" style=""><div class="modifyvideo-content-detail" style=""><div class="form-group col-sm-12"><label class="col-sm-2 control-label" style="">分类：</label><div class="col-sm-10" style="line-height: 30px;color: #666;"> { opts.video_classifiy } </div></div><div class="form-group col-sm-12 modifyvideo-content-title"><label class="col-sm-2 control-label" style="">标题：</label><div class="col-sm-10" style="color: #666;padding-top: 5px;"> { opts.video_title } <input type="text" class="form-control" id="myvideo-title" value="{ opts.video_title }" style="display:none;"></div></div><div class="form-group col-sm-12 modifyvideo-content-desc"><label class="col-sm-2 control-label" style="">描述：</label><div class="col-sm-10" style=""><textarea type="text" class="form-control" placeholder="最多150个字符" maxlength="150" id="myvideo-desc" value="{ opts.video_desc }"></textarea></div></div><div class="form-group col-sm-12"><label class="col-sm-2 control-label" style="">内容标签：</label><div class="col-sm-10" style="color: #666;line-height: 30px;">{ opts.video_content_tab } </div></div><div class="form-group col-sm-12 modifyvideo-check"><label class="col-sm-2 control-label" style="">文件查看：</label><div class="col-sm-10" style=""><a class="modifyvideo-checkbtn btn btn" href="/v/{ opts.id_encrypt }" target="_blank"> 视频查看 </a></div></div><div class="orm-group col-sm-12 modifyvideo-tips"> 视频上传后，只可以编辑标题和描述或者删除，其他不可编辑 </div></div></div><div class="myvideo-btn clearfix" style=""><div class="form-group col-sm-12" style=""><label class="col-sm-2 control-label" style="width: 80px;"></label><div class="col-sm-10" style=""><button type="button" data-myvideo-iv="{ opts.video_id }" name="btn-login" class="btn" style="">确认修改 </button></div></div></div>',function(e){function t(e,t,i){return e-i>=1&&t-e>=i?{page_from:e-i,page_to:e+i}:1>=e-i&&t-e>=i?{page_from:1,page_to:e+i}:1>=e-i&&i>=t-e?{page_from:1,page_to:t}:e-i>=1&&i>=t-e?{page_from:e-i,page_to:t}:void 0}this.on("mount",function(){$(".myvideo-btn").find("button").on("click",function(e){var t=$(e.currentTarget).data().myvideoIv,i=$("#myvideo-title").val(),a=$("#myvideo-desc").val();if(null==i||""==i)return show_diy_layer("标题为空!"),!0;if(null==a||""==a)return show_diy_layer("描述为空!"),!0;var o={};o.video_id=t,o.title=i,o.description=a,$.ajax({url:"/my/update_video_info",method:"post",async:!1,data:o,success:function(e){e.result?show_diy_layer("修改我的视频成功!"):show_diy_layer("修改我的视频失败!原因:"+e.data.message)}})}),$(".modifyvideo-title button").on("click",function(e){var i=e.currentTarget.getAttribute("data-myvideo-id");$.ajax({url:"/my/video_delete/"+i,method:"get",async:!1,data:"",success:function(e){if(e.result){var i={},a={};if(i.video_box_data=[],$.ajax({type:"get",url:"/my/my_all_videos",async:!1,data:{per_page:16},success:function(e){if(e.result===!0){var t=e.data.data;a=e.data,i.video_box_data=t;for(var o=0;o<t.length;o++)i.video_box_data[o].video_href="/v",i.video_box_data[o].margin_size="20"}else layer.msg("加载我的视频失败!失败原因:"+e.data.message)}}),1===a.last_page||0===a.last_page);else{i.page={},i.pagebutton=[],i.page.ajax_url="/my/my_all_videos",i.page.current_page=a.current_page,i.page.last_page=a.last_page,i.page.prev_page_url="/my/my_all_videos?page="+(parseInt(a.current_page)-1),i.page.next_page_url="/my/my_all_videos?page="+(parseInt(a.current_page)+1),i.page.last_page_url="/my/my_all_videos?page="+a.last_page,i.page.first_page_url="/my/my_all_videos?page=1",i.page.button_need_ajax=1,i.page.fn_side_count=t,i.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.video_box_data=t;for(var a=0;a<t.length;a++)i.video_box_data[a].video_href="/v",i.video_box_data[a].margin_size="20";riot.mount($(".myvideo-videolist-box")[0],"rv-preview-video-box",i)}else layer.msg("加载分页失败!失败原因:"+e.data.message)};for(var o=t(i.page.current_page,i.page.last_page,3),s=o.page_from;s<=o.page_to;s++)s==i.page.current_page?i.pagebutton.push({page_button_url:"/my/my_all_videos",button_type:"v-page-number-button v-page-forl-button-activity",button_name:s}):i.pagebutton.push({page_button_url:"/my/my_all_videos",button_type:"v-page-number-button",button_name:s})}riot.mount($(".my-center-infolist-container")[0],"rv-psncenter-myvideo",i)}else show_diy_layer("删除我的视频失败!原因:"+e.data.message)}})})})}),riot.tag("rv-psncenter-myvideo-vtitle",'<div class="myvideo-vtitle clearfix"><div class="pull-left"> { opts.name } </div><div if="{ opts.type==\'myvideo\' }" class="pull-right "><a href="#">查看更多>></a></div></div>',function(e){}),riot.tag("rv-myvideo-box",'<div class="myvideo-container clearfix"><div class="myvideo-box myvideo-box-marginright-33 myvideo-box-marginbottom-14px" each="{ opts.video_box_data }"><div if="{ status== 10 }" class="myvideo-box-top"><a href="{ video_href }/{ id_encrypt }" data-video-id="{ id }" target="_blank" style="text-decoration: none;"><div class="myvideo-search-img"><img riot-src="{ thumb_href }"></div></a><a class="xvideo-thumbnail-mask hide" href="/v/{id_encrypt}" target="_blank" style=""><i class="xyvideo-icon xyvideo-icon-play"></i></a><div class="myvideo-mask-layer"><div class="myvideo-mask-layer-left v-float-left"> { play_count }人观看 </div><div class="myvideo-mask-layer-right v-float-right"><i class="xyvideo-icon xyvideo-icon-clock"></i>{ duration } </div></div><div class="myvideo-mask-layer-desc"><div class="myvideo-mask-layer-play-btn"><a href="{ video_href }/{ id_encrypt }" target="_blank" style="text-decoration: none;"><i class="xyvideo-icon xyvideo-icon-video"></i></a></div></div><div class="myvideo-mask-myvido-modify"><div class="myvideo-mask-myvido-modify-font" data-myvideo-id="{ id }">编辑</div></div><div class="myvideo-mask-myvido-delete"><div class="myvideo-mask-myvido-delete-font" data-mycollectionvideo-id="{ id }">删除</div></div></div><a if="{ status== 10 }" class="myvideo-myvideo-name" href="{ video_href }/{ id_encrypt }" target="_blank"> { title } </a><div if="{ status !=3 && status !=10 && status !=11 }" class="v-mask-video-not-reviewed"><span class="xyvideo-icon xyvideo-icon-video-in-auth"></span>&nbsp;&nbsp;正在审核 </div><div if="{ status== 3 || status== 11 }" class="v-mask-video-reviewing"><div class="v-mask-video-reviewing-top"><span class="xyvideo-icon xyvideo-icon-auth-fail"></span>&nbsp;&nbsp;审核失败 </div><div class="v-mask-video-reviewing-bottom"> 失败原因：杏娱游戏的网站以及杏娱游戏. </div></div></div></div><div style="clear:both"></div>',function(e){var t=this;this.on("mount",function(){$(".myvideo-mask-myvido-modify-font").unbind("click").on("click",function(e){var t=e.currentTarget.getAttribute("data-myvideo-id");$.ajax({type:"get",url:"/my/video_info/"+t,data:"",async:!1,success:function(e){var t=e.data;if(e.result){var i={};i.video_id=t.video_id,i.id_encrypt=t.id_encrypt,1==t.type_id?i.video_classifiy="自拍":i.video_classifiy="视频",i.video_title=t.title,i.video_desc=t.description;for(var a="",o=0;o<t.tags.length;o++)a=a+t.tags[o].name+"     ";i.video_content_tab=a,riot.mount($(".my-center-infolist-container")[0],"rv-modifymyvideo",i)}else show_diy_layer(e.data.message)}})})}),$(".myvideorecord-mycollection").unbind("click").on("click",".myvideo-mask-myvido-delete-font",function(e){var i=e.currentTarget.getAttribute("data-mycollectionvideo-id");$.ajax({type:"get",url:"/my/collection_delete/"+i,data:"",async:!1,success:function(e){if(e.result){$.ajax({type:"get",url:"/my/collections",data:{per_page:8},async:!1,success:function(e){if(e.result){for(var i=e.data.data,a=0;a<i.length;a++)i[a].video_href="/v",i[a].margin_size="20";t.opts.video_box_data=i,t.update()}else show_diy_layer("加载我的收藏失败!失败原因:"+e.data.message)}})}else show_diy_layer(e.data.message)}})})}),riot.tag("rv-myvideo-nothing",'<div class="myvideo-nothing"><span class="xyvideo-icon xyvideo-icon-warning"></span>暂无记录,去<a href="/" style="">首页</a>观看视频 </div>',function(e){}),riot.tag("rv-myvideo-nothing-upload",'<div class="myvideo-nothing-upload"><span class="xyvideo-icon xyvideo-icon-warning"></span>您还没有上传视频哦，现在<a href="/v/upload" style="">上传视频</a></div>',function(e){}),riot.tag("rv-myvideo-recordlist",'<div class="myvideorecord-vipinfo"><span class="xyvideo-icon xyvideo-icon-announcement"></span> 会员公告区 </div><div class="myvideorecord-link-content clearfix hide"><label class="control-label pull-left">我的推广链接：</label><input type="text" class="form-control pull-left myvideorecord-link-input" id="myvideorecord-link-input" value="{opts.share_url}" placeholder="请输入验证码"><button type="button" name="btn-login" class="btn pull-left myvideorecord-link-btn" data-clipboard-target="#myvideorecord-link-input"> 复制 </button></div><div class="myvideorecord-recredlist clearfix"><div class="myvideorecord-recredlist-title"><div class="myvideorecord-vtitle-container clearfix"><div class="pull-left"> 最近浏览记录 </div></div></div><div class="myvideorecord-recredlist-info"></div></div><div class="myvideorecord-myvideolist clearfix"><div class="myvideorecord-myvideolist-title"><div class="myvideorecord-vtitle-container clearfix"><div class="pull-left"> 我的视频 </div><div class="pull-right "><a href="javaScript:void(0)">查看更多>></a></div></div></div><div class="myvideorecord-myvideolist-info"></div></div><div class="myvideorecord-mycollection clearfix"><div class="myvideorecord-mycollection-title"><div class="myvideorecord-vtitle-container clearfix"><div class="pull-left"> 我的收藏 </div><div class="pull-right myvideorecord-mycollection-link"><a href="javaScript:void(0)">查看更多>></a></div></div></div><div class="myvideorecord-mycollection-info"></div></div>',function(e){var t=this;this.on("mount",function(){function e(e,t,i){return e-i>=1&&t-e>=i?{page_from:e-i,page_to:e+i}:1>=e-i&&t-e>=i?{page_from:1,page_to:e+i}:1>=e-i&&i>=t-e?{page_from:1,page_to:t}:e-i>=1&&i>=t-e?{page_from:e-i,page_to:t}:void 0}0!=t.opts.video_box_data_recent.length?riot.mount($(".myvideorecord-recredlist-info")[0],"rv-myvideo-box",{video_box_data:t.opts.video_box_data_recent}):riot.mount($(".myvideorecord-recredlist-info")[0],"rv-myvideo-nothing"),0!=t.opts.video_box_data_myvideo.length?riot.mount($(".myvideorecord-myvideolist-info")[0],"rv-myvideo-box",{video_box_data:t.opts.video_box_data_myvideo}):riot.mount($(".myvideorecord-myvideolist-info")[0],"rv-myvideo-nothing-upload"),0!=t.opts.video_box_data_mycollection.length?riot.mount($(".myvideorecord-mycollection-info")[0],"rv-myvideo-box",{video_box_data:t.opts.video_box_data_mycollection}):riot.mount($(".myvideorecord-mycollection-info")[0],"rv-myvideo-nothing");var i=e;$(".myvideorecord-myvideolist-title").find("a").on("click",function(){var e={},t={};if(e.video_box_data=[],$.ajax({type:"get",url:"/my/my_all_videos",async:!1,data:{per_page:16},success:function(i){if(i.result===!0){var a=i.data.data;t=i.data,e.video_box_data=a;for(var o=0;o<a.length;o++)e.video_box_data[o].video_href="/v",e.video_box_data[o].margin_size="20"}else show_diy_layer("加载我的视频失败!失败原因:"+i.data.message)}}),1===t.last_page||0===t.last_page);else{e.page={},e.pagebutton=[],e.page.ajax_url="/my/my_all_videos",e.page.current_page=t.current_page,e.page.last_page=t.last_page,e.page.prev_page_url="/my/my_all_videos?page="+(parseInt(t.current_page)-1),e.page.next_page_url="/my/my_all_videos?page="+(parseInt(t.current_page)+1),e.page.last_page_url="/my/my_all_videos?page="+t.last_page,e.page.first_page_url="/my/my_all_videos?page=1",e.page.button_need_ajax=1,e.page.fn_side_count=i,e.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.video_box_data=t;for(var a=0;a<t.length;a++)i.video_box_data[a].video_href="/v",i.video_box_data[a].margin_size="20";riot.mount($(".myvideo-videolist-box")[0],"rv-preview-video-box",i)}else show_diy_layer("加载分页失败!失败原因:"+e.data.message)};for(var a=i(e.page.current_page,e.page.last_page,3),o=a.page_from;o<=a.page_to;o++)o==e.page.current_page?e.pagebutton.push({page_button_url:"/my/my_all_videos",button_type:"v-page-number-button v-page-forl-button-activity",button_name:o}):e.pagebutton.push({page_button_url:"/my/my_all_videos",button_type:"v-page-number-button",button_name:o})}riot.mount($(".my-center-infolist-container")[0],"rv-psncenter-myvideo",e)}),$(".myvideorecord-mycollection .myvideorecord-mycollection-link").find("a").on("click",function(){var e={},t={};if(e.video_box_data=[],$.ajax({type:"get",url:"/my/collections",data:{per_page:16},async:!1,success:function(i){if(i.result===!0){var a=i.data.data;e.video_box_data=a,t=i.data;for(var o=0;o<a.length;o++)e.video_box_data[o].video_href="/v",e.video_box_data[o].margin_size="20"}else show_diy_layer("加载我的收藏失败!失败原因:"+i.data.message)}}),1===t.last_page||0===t.last_page);else{e.page={},e.pagebutton=[],e.page.ajax_url="/my/collections",e.page.current_page=t.current_page,e.page.last_page=t.last_page,e.page.prev_page_url="/my/collections?page="+(parseInt(t.current_page)-1),e.page.next_page_url="/my/collections?page="+(parseInt(t.current_page)+1),e.page.last_page_url="/my/collections?page="+t.last_page,e.page.first_page_url="/my/collections?page=1",e.page.button_need_ajax=1,e.page.fn_side_count=i,e.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.video_box_data=t;for(var a=0;a<t.length;a++)i.video_box_data[a].video_href="/v",i.video_box_data[a].margin_size="20";riot.mount($(".mycollection-content")[0],"rv-preview-video-box",i)}else show_diy_layer("加载分页失败!失败原因:"+e.data.message)};for(var a=i(e.page.current_page,e.page.last_page,3),o=a.page_from;o<=a.page_to;o++)o==e.page.current_page?e.pagebutton.push({page_button_url:"/my/collections",button_type:"v-page-number-button v-page-forl-button-activity",button_name:o}):e.pagebutton.push({page_button_url:"/my/collections",button_type:"v-page-number-button",button_name:o})}riot.mount($(".my-center-infolist-container")[0],"rv-mycollection",e)});var a=$(".myvideorecord-recredlist-info ");a.find(".myvideo-box").hover(function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").removeClass("hide")},function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").addClass("hide")});var o=$(".myvideorecord-myvideolist-info .myvideo-box");o.hover(function(e){$(e.currentTarget).addClass("myvideo-box-hover"),$(e.currentTarget).find(".xvideo-thumbnail-mask").removeClass("hide")},function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").addClass("hide")});var s=$(".myvideorecord-mycollection-info");$.each(s,function(){$(this).on("mouseover",".myvideo-box",function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").removeClass("hide"),$(e.currentTarget).find(".myvideo-mask-myvido-delete").show()}),$(this).on("mouseout",".myvideo-box",function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").addClass("hide"),$(e.currentTarget).find(".myvideo-mask-myvido-delete").hide()})});var n=new Clipboard(".myvideorecord-link-btn");n.on("success",function(e){console.info("复制成功：Action:",e.action+"Text:",e.text+"Trigger:",e.trigger)}),n.on("error",function(e){console.error("复制失败：Action:",e.action+"Trigger:",e.trigger)})})}),riot.tag("rv-myvip",'<div class="myvip-container"><div class="myvip-info" if="{ opts.vip==1 }"><div class="myvip-info-title">尊敬的VIP用户</div><div class="myvip-info-content clearfix"><div class="myvip-info-expiretime">您的VIP到期时间为：{opts.end_time}</div><div class="myvip-info-btn"><a href="/upgrade" target="_blank" name="btn-recharge" class="btn myvip-btn-recharge"> VIP续费 </a></div><div class="myvip-info-order"><a >查看我的订单 ></a></div></div></div><div class="myvip-info" if="{ opts.vip==0 }"><div class="myvip-info-title">尊敬的VIP用户</div><div class="myvip-info-content clearfix"><div class="myvip-info-expiretime">您还没有开通VIP，开通后可享有VIP特权</div><div class="myvip-info-btn"><a href="/upgrade" target="_blank" name="btn-recharge" class="btn myvip-btn-recharge"> 立即开通 </a></div><div class="myvip-info-order"><a >查看我的订单 ></a></div></div></div><div class="myvip-privilege clearfix"><div class="myvip-div-title clearfix"><div class="myvip-title-line pull-left"></div><div class="myvip-title-desc pull-left">VIP特权</div><div class="myvip-title-line pull-left"></div></div><div class="myvip-privilege-content clearfix"><div class="myvip-privilege-accelerate myvip-privilege-div"><img src="../../images/quickenload.png"><div class="myvip-privilege-info"><div class="myvip-privilege-bigfont">VIP加速播放通道</div><div class="myvip-privilege-smallfont">观看更快，体验更爽</div></div></div ><div class="myvip-privilege-download myvip-privilege-div"><img src="../../images/freeload.png"><div class="myvip-privilege-info"><div class="myvip-privilege-bigfont">免费下载</div><div class="myvip-privilege-smallfont">下载保存到本地</div></div></div ><div class="myvip-privilege-HD myvip-privilege-div"><img src="../../images/HD.png"><div class="myvip-privilege-info"><div class="myvip-privilege-bigfont">720P高清</div><div class="myvip-privilege-smallfont">高清画面，不错过任何细节</div></div><div class="myvip-privilege-mask"> 即将开放 </div></div ><div class="myvip-privilege-icon myvip-privilege-div"><img src="../../images/VIp.png"><div class="myvip-privilege-info"><div class="myvip-privilege-bigfont">VIP尊贵专属图标</div><div class="myvip-privilege-smallfont">我的尊贵，如影随形</div></div></div ><div class="myvip-privilege-noad myvip-privilege-div"><img src="../../images/noad.png"><div class="myvip-privilege-info"><div class="myvip-privilege-bigfont">无广告</div><div class="myvip-privilege-smallfont">无广告，观看无干扰</div></div></div ><div class="myvip-privilege-gift myvip-privilege-div"><img src="../../images/gift.png"><div class="myvip-privilege-info"><div class="myvip-privilege-bigfont">其他礼包</div><div class="myvip-privilege-smallfont">其他合作平台礼包，免费送</div></div><div class="myvip-privilege-mask"> 即将开放 </div></div></div></div><div class="myvip-exchange clearfix"><div class="myvip-div-title clearfix"><div class="myvip-title-line pull-left"></div><div class="myvip-title-desc pull-left">兑换VIP</div><div class="myvip-title-line pull-left"></div></div><a class="myvip-exchange-a">如何获取兑换码?</a><div class="form-group col-sm-12 myvip-exchange-content"><input type="text" class="form-control pull-left myvip-exchange-input" placeholder="请输入兑换码"><button type="button" name="btn-login" class="btn pull-left myvip-btn-exchange"> 兑换 </button></div></div></div>',function(e){
function t(e,t,i){return e-i>=1&&t-e>=i?{page_from:e-i,page_to:e+i}:1>=e-i&&t-e>=i?{page_from:1,page_to:e+i}:1>=e-i&&i>=t-e?{page_from:1,page_to:t}:e-i>=1&&i>=t-e?{page_from:e-i,page_to:t}:void 0}this.on("mount",function(){function e(e,t){layer.open({type:1,title:!1,skin:"v-div-layer",closeBtn:0,shift:0,shadeClose:!0,content:'<div class="v-layui-layer"><div class="v-layui-title"><div class="v-layui-title-right"><span class="xyvideo-icon-times xyvideo-icon layui-layer-close"></span></div></div><div class="v-layui-body clearfix" style="padding-top: 30px;padding-bottom: 30px;"><div class="v-layui-img-'+t+'"></div><div style="margin-bottom: 6px;">'+e+"</div></div></div>"})}$(".myvip-info-order").on("click",function(e){var i={},a={};if(i.orderList=[],$.ajax({type:"get",url:"/my/orders",data:{per_page:13},async:!1,success:function(e){if(e.result===!0){var t=e.data.data;console.log(t),i.orderList=t,a=e.data,console.log(a)}else show_diy_layer("加载我的订单失败!原因:"+e.data.message)}}),1===a.last_page||0===a.last_page);else{i.page={},i.pagebutton=[],i.page.ajax_url="/my/orders",i.page.current_page=a.current_page,i.page.last_page=a.last_page,i.page.prev_page_url="/my/orders?page="+(parseInt(a.current_page)-1),i.page.next_page_url="/my/orders?page="+(parseInt(a.current_page)+1),i.page.last_page_url="/my/orders?page="+a.last_page,i.page.first_page_url="/my/orders?page=1",i.page.button_need_ajax=1,i.page.fn_side_count=t,i.page.fn_mount_video=function(e){if(e.result===!0){var t=e.data.data,i={};i.orderList=t,riot.mount($(".my-center-infolist-container")[0],"rv-myorders",i)}else show_diy_layer("加载分页失败!原因:"+e.data.message)};for(var o=t(i.page.current_page,i.page.last_page,3),s=o.page_from;s<=o.page_to;s++)s==i.page.current_page?i.pagebutton.push({page_button_url:"/my/orders",button_type:"v-page-number-button v-page-forl-button-activity",button_name:s}):i.pagebutton.push({page_button_url:"/my/orders",button_type:"v-page-number-button",button_name:s})}riot.mount($(".my-center-infolist-container")[0],"rv-myorders",i)}),$(".myvip-exchange-a").on("click",function(e){riot.mount($(".my-center-infolist-container")[0],"rv-myspread",xvideoData)}),$(".myvip-btn-exchange").on("click",function(t){var i=$(".myvip-exchange-input").val().trim();""==i||null==i?e("兑换码为空，请输入兑换码！",!1):$.ajax({type:"get",url:"/my/exchange",data:{code:i},success:function(t){t.result?e(t.data,t.result):e(t.data.message,t.result)}})})})}),riot.tag("rv-profile-title",'<div class="profile-title clearfix"><div class="profile-title-left xvideo-float-left"><span class="xyvideo-icon xyvideo-icon- xyvideo-vtitle-icon"></span> 最新视频 </div><div class="profile-title-right"><div class="xvideo-float-right"><a href="/v/search?user_name={ opts.name }">查看更多&gt;&gt;</a></div></div></div>',function(e){}),riot.tag("rv-profile-left",'<div class="profile-header"><div class="profile-left"><div class="profile-user-header"><a style="cursor: auto;"><div class="profile-icon"><img data-src="holder.js/180x180" class="" src="{ opts.head_href }" alt="我的个人头像"></div></a></div><div class="profile-user-middle"><div class="" style=""><span riot-style="">{ opts.name }</span><a class="profile-sex{ opts.sex }" style=""></a><img if="{opts.is_vip}" src="../../images/VIPicon.png" style="margin-left: 3px;"></div></div><div class="profile-user-footer clearfix"><ul class="clearfix"><li class="xvideo-float-left" style=""><div class="xvideo-float-left" style=""><span href="#" style="font-size:20px;color:#ccc;">{ opts.credit }</span><span href="#" style="font-size:14px;color:#999;">积分</span></div><div class="profile-vertical-line xvideo-float-left"></div></li><li class="xvideo-float-left" style=""><div class="xvideo-float-left" style=""><span href="#" style="font-size:20px;color:#ccc;">{ opts.all_video_count }</span><span href="#" style="font-size:14px;color:#999;">视频</span></div><div class="profile-vertical-line xvideo-float-left"></div></li><li class="xvideo-float-left" style=""><div class="xvideo-float-left" style=""><span href="#" style="font-size:20px;color:#ccc;">{ opts.been_attention_count }</span><span href="#" style="font-size:14px;color:#999;">粉丝</span></div></li></ul></div></div><div class="profile-button-group clearfix"><button type="button" name="cancel-attention" class="btn profile-attention" id="attention">已关注</button><button type="button" name="attention" class="btn xvideo-float-left" id="unattention"><span class="xyvideo-icon-focus xyvideo-icon"></span> 关注 </button></div><div class="profile-signature clearfix"> { opts.signature } </div></div><div class="profile-footer clearfix"><div class="profile-logintime xvideo-float-left">最近登录&nbsp;:&nbsp;{ opts.last_login }</div><div class="profile-footer-report xvideo-float-right"><a class="profile-footer-msg" style=""></a><a>我要举报该用户</a></div></div>',function(e){this.on("mount",function(){xvideoData.user_info.is_informed&&$(".profile-footer-report").find("a").css("color","#333");var e={};e=xvideoData.user_info,1==e.is_attention?($("#attention").show(),$("#unattention").hide()):($("#attention").hide(),$("#unattention").show()),$(".profile-button-group .profile-attention").on("mouseover",function(e){e.currentTarget.innerHTML;e.currentTarget.innerHTML="取消关注"}),$(".profile-button-group .profile-attention").on("mouseout",function(e){e.currentTarget.innerHTML;e.currentTarget.innerHTML="已关注"}),$(".profile-button-group button").on("click",function(e){var t=$(e.currentTarget).attr("name");if("attention"==t.trim()){var i=xvideoData.user_info.user_id;$.ajax({type:"get",url:"/my/attention_user/"+i,data:"",success:function(e){e.result===!0?($("#attention").show(),$("#unattention").hide(),show_diy_layer("恭喜，添加关注成功！")):($("#unattention").show(),$("#attention").hide(),show_diy_layer("添加关注失败！原因:"+e.data.message))}})}else{if("cancel-attention"!=t.trim())return;var i=xvideoData.user_info.user_id;$.ajax({type:"get",url:"/my/cancel_attention/"+i,data:"",success:function(e){e.result===!0?($("#attention").hide(),$("#unattention").show(),show_diy_layer("恭喜，取消关注成功！")):($("#unattention").hide(),$("#attention").show(),show_diy_layer("取消关注失败！原因:"+e.data.message))}})}}),$(".profile-footer-report").find("a").on("click",function(e){var t;$(e.currentTarget);if(xvideoData.user_info.is_informed)show_diy_layer("你已经举报过啦");else{var i=layer.open({type:1,title:!1,skin:"v-div-layer",closeBtn:0,shift:1,shadeClose:!0,content:'<div class="v-layui-layer"><div class="v-layui-title"><div class="v-layui-title-left"><span class="xyvideo-icon-warning-white xyvideo-icon"></span>请填写你的举报理由</div><div class="v-layui-title-right"><span class="xyvideo-icon-times xyvideo-icon layui-layer-close"></span></div></div><div class="v-layui-body clearfix"><textarea class="v-layui-textarea" ></textarea><div class="v-button-submit">提交</div><div class="v-button-cancel">取消</div></div></div>'});$(".v-button-submit").on("click",function(e){var a=$(".v-layui-textarea").val();""!=a.trim()?$.ajax({url:"/my/user_inform",type:"POST",dataType:"json",data:{user_id:xvideoData.user_info.user_id,comment:a},beforeSend:function(){t=layer.load(1)}}).done(function(e){e.result?(show_diy_layer("举报成功了 感谢您的支持!"),layer.close(i)):(show_diy_layer("举报失败了：失败原因："+e.data.message),layer.close(i))}).complete(function(){layer.close(t)}):show_diy_layer("理由不能为空.")}),$(".v-button-cancel").on("click",function(e){layer.close(i)})}})})}),riot.tag("rv-psncenter-bindmail-verifymail",'<div class="security-info nopadding"><div class="security-info-title"><span>安全中心</span></div><div class="security-enter-mail" style=""><div class="security-enter-title" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>验证原邮箱 </div><div class="security-enter-div clearfix" style=""><div class="security-verify-div-first" style="">1.验证原邮箱</div><div class="security-verify-div-second" style="">2.验证新邮箱</div><div class="security-verify-div-third" style="">3.完成</div></div><div class="security-enter-tips" style=""><span class="xyvideo-icon xyvideo-icon-warning-white" style=""></span> 为了您的帐号安全，请输入有效邮箱。 </div><div class="security-enter-info clearfix" style=""><div class="form-group col-sm-12 security-enter-info-entermail" style=""><label class="col-sm-2 control-label" style="">我的邮箱：</label><div class="col-sm-10" style=""><input type="text" value="{ opts.fakeemail }" disabled="disabled" class="form-control" data-email="{ opts.email }" class="xvideo-input-email" placeholder="" style=""> { email_tips } </div></div><div class="form-group col-sm-12 security-enter-info-enterverifycode" style=""><label class="col-sm-2 control-label" style="">验证码：</label><div class="col-sm-5" style=""><input type="text" class="form-control" value="{ security_code }" placeholder="请输入验证码"></div><div class="security-enter-info-sendbtn" style=""><button type="button" name="btn-login" class="btn btn-info xvideo-send-security-code video-psncenter-info-mail-btn" style="">发送 </button></div><div class="security-enter-info-enterverifycode-tips col-sm-5" style="display: inline-block;"><span class="xyvideo-icon xyvideo-icon-warning security-enterverifycode-tips-warning"></span><span class="xyvideo-icon xyvideo-icon-cancel3 security-enterverifycode-tips-help"></span>{verifycode} </div></div><div class="form-group col-sm-12 xvideo_count_time"> { last_time } </div><div class="form-group col-sm-12 security-enter-info-modifybtn" style=""><label class="col-sm-2 control-label" style="">&nbsp;</label><div class="xvideo-bindmail-button-box"><button type="button" name="btn-login" class="btn video-psncenter-email-next" style="">下一步 </button></div></div></div></div></div>',function(e){function t(){o--,0>o&&($(".xvideo-send-security-code").attr("disabled",!1),$(".xvideo-send-security-code").addClass("btn-info"),$(".xvideo-send-security-code").removeClass("security-enter-info-sendbutton"),a.update({last_time:null}),clearInterval(i),o=60)}this.post_data=e,this.email=e.email,this.security_code=null;var i,a=this,o=60;this.on("mount",function(){$(".security-enter-info-enterverifycode").on("focus","input",function(e){a.update({verifycode:"请输入您收到的6位验证码"}),$(".security-enterverifycode-tips-help").hide(),$(".security-enterverifycode-tips-warning").show(),$(".security-enter-info-enterverifycode-tips").css("color","#333")}),$(".security-enter-info-enterverifycode").on("blur","input",function(e){var t=e.currentTarget.value;""==t?(a.update({verifycode:"验证码不能为空哦"}),$(".security-enterverifycode-tips-warning").hide(),$(".security-enterverifycode-tips-help").show(),$(".security-enter-info-enterverifycode-tips").css("color","red")):(a.update({verifycode:""}),$(".security-enterverifycode-tips-warning").hide(),$(".security-enterverifycode-tips-help").hide())}),$("button.xvideo-send-security-code").on("click",function(){var e,o=$(".security-enter-info-entermail input").data().email;$.ajax({url:"/my/new_bind_send_origin_verify_code/"+o,method:"GET",async:!0,beforeSend:function(){e=layer.load(1)},success:function(o){o.result?(layer.close(e),$(".xvideo-send-security-code").attr("disabled",!0),$(".xvideo-send-security-code").removeClass("btn-info"),$(".xvideo-send-security-code").addClass("security-enter-info-sendbutton"),a.update({last_time:o.data+"60秒后可以重发"}),i=setInterval(t,1e3)):(layer.close(e),a.update({last_time:"发送失败!原因:"+o.data.message}))}}).done(function(){layer.close(e)})}),$("button.video-psncenter-email-next").on("click",function(){var e=$(".security-enter-info-enterverifycode input").val();return""==e?void a.update({last_time:"请输入验证码"}):void $.ajax({url:"/my/new_bind_origin_verify/"+e,method:"",async:!1,success:function(e){e.result?riot.mount($(".my-center-infolist-container")[0],"rv-psncenter-bindmail-enternewmail"):a.update({last_time:"操作失败原因:"+e.data.message})}})})})}),riot.tag("rv-psncenter-bindmail-enternewmail",'<div class="security-info nopadding"><div class="security-info-title"><span>安全中心</span></div><div class="security-enter-mail" style=""><div class="security-enter-title" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>验证新邮箱 </div><div class="security-enter-div clearfix" style=""><div class="security-verify-div-first" style="">1.验证原邮箱</div><div class="security-verify-div-second" style="">2.验证新邮箱</div><div class="security-verify-div-third" style="">3.完成</div></div><div class="security-enter-tips" style=""><span class="xyvideo-icon xyvideo-icon-warning-white" style=""></span> 为了您的帐号安全，请输入有效邮箱。 </div><div class="security-enter-info clearfix" style=""><div><div class="form-group col-sm-12 security-enter-info-entermail" style=""><label class="col-sm-2 control-label" style="">我的邮箱：</label><div class="col-sm-10" style=""><input type="text" class="form-control xvideo-input-email" placeholder="请输入您的新邮箱"></div><div class="security-enter-info-entermail-tips" style=""><span class="xyvideo-icon xyvideo-icon-warning help-block security-enter-info-entermail-tips-warning"></span><span class="xyvideo-icon xyvideo-icon-cancel3 help-block security-enter-info-entermail-tips-help"></span>{email_tips} </div></div><div class="form-group col-sm-12 security-enter-info-enterverifycode" style=""><label class="col-sm-2 control-label" style="">验证码：</label><div class="col-sm-10" style=""><input type="text" class="form-control" placeholder="请输入验证码"></div><div class="security-enter-info-sendbtn" style=""><button type="button" name="btn-login" class="btn xvideo-send-security-code video-psncenter-info-mail-btn" style="">发送 </button></div><div class="security-enter-info-enterverifycode-tips col-sm-5" style="display: inline-block;"><span class="xyvideo-icon xyvideo-icon-warning security-new-enterverifycode-tips-warning"></span><span class="xyvideo-icon xyvideo-icon-cancel3 security-new-enterverifycode-tips-help"></span>{enterverifycode} </div></div><div class="form-group col-sm-12 xvideo_count_time"> { last_time } </div><div class="form-group col-sm-12 security-enter-info-modifybtn" style=""><label class="col-sm-2 control-label" style="">&nbsp;</label><div class="xvideo-bindmail-button-box"><button type="button" name="btn-login" class="btn video-psncenter-info-mail-btn" style="">确认修改 </button></div></div></div></div></div></div>',function(e){function t(e){var t=RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(e);return!!t}function i(){s--,0>s&&($(".xvideo-send-security-code").attr("disabled",!1),$(".xvideo-send-security-code").addClass("btn-info"),$(".xvideo-send-security-code").removeClass("security-enter-info-sendbutton"),o.update({last_time:null}),clearInterval(a),s=60)}var a,o=this,s=60;this.post_data=e,this.on("mount",function(){var e=!1;$(".xvideo-input-email").on("blur",function(i){if(""==i.currentTarget.value)o.update({email_tips:"安全邮箱不能为空哦"}),$(".security-enter-info-entermail-tips-warning").hide(),$(".security-enter-info-entermail-tips-help").show(),$(".security-enter-info-entermail-tips").css("color","red"),e=!1;else{if(!t(i.currentTarget.value))return o.update({email_tips:"请输入正确格式的邮箱!例:xx@xx.xx"}),$(".security-enter-info-entermail-tips-help").show(),$(".security-enter-info-entermail-tips-warning").hide(),$(".security-enter-info-entermail-tips").css("color","red"),void(e=!1);e=!0,o.update({email_tips:""}),$(".security-enter-info-entermail-tips-help").hide(),$(".security-enter-info-entermail-tips-warning").hide()}}),$(".xvideo-input-email").on("focus",function(e){$(".security-enter-info-entermail-tips-help").hide(),$(".security-enter-info-entermail-tips-warning").show(),$(".security-enter-info-entermail-tips").css("color","#333"),o.update({email_tips:"请输入您的电子邮箱"})}),$(".security-enter-info-enterverifycode").on("focus","input",function(e){o.update({enterverifycode:"请输入您收到的验证码"}),$(".security-new-enterverifycode-tips-warning").show(),$(".security-new-enterverifycode-tips-help").hide(),$(".security-enter-info-enterverifycode-tips").css("color","#333")}),$(".security-enter-info-enterverifycode").on("blur","input",function(e){var t=e.currentTarget.value;""==t?(o.update({enterverifycode:"验证码不能为空哦!"}),$(".security-new-enterverifycode-tips-warning").hide(),$(".security-new-enterverifycode-tips-help").show(),$(".security-enter-info-enterverifycode-tips").css("color","red")):(o.update({enterverifycode:""}),$(".security-new-enterverifycode-tips-warning").hide(),$(".security-new-enterverifycode-tips-help").hide())}),$("button.xvideo-send-security-code").on("click",function(){var t,s=$(".security-enter-info-entermail input").val();return""==s?($(".security-enter-info-entermail-tips-help").show(),void o.update({email_tips:"安全邮箱不能为空哦"})):void(e&&$.ajax({url:"/my/new_bind_send_new_verify_code/"+s,method:"GET",async:!0,beforeSend:function(){t=layer.load(1)},success:function(e){e.result?(layer.close(t),$(".xvideo-send-security-code").attr("disabled",!0),$(".xvideo-send-security-code").removeClass("btn-info"),$(".xvideo-send-security-code").addClass("security-enter-info-sendbutton"),o.update({last_time:e.data+"60秒后可以重发"}),a=setInterval(i,1e3)):(layer.close(t),o.update({last_time:"发送失败!原因:"+e.data.message}))}}))}),$(".xvideo-bindmail-button-box").find("button").on("click",function(){var e=$(".security-enter-info-entermail input").val();if(""==e)return $(".security-enter-info-entermail-tips-help").show(),void o.update({email_tips:"请输入安全邮箱!"});var t=$(".security-enter-info-enterverifycode input").val();return""==t?void o.update({verifycode:"请输入验证码!"}):void $.ajax({url:"/my/new_bind_new_verify/"+t,method:"",async:!1,success:function(e){if(e.result){var t=$(".security-enter-info-entermail input").val(),i={};i.email=t,riot.mount($(".my-center-infolist-container")[0],"rv-psncenter-bindmail-success",i)}else o.update({last_time:"修改邮箱失败!原因:"+e.data.message})}})})})}),riot.tag("rv-psncenter-bindmail-success",'<div class="security-info nopadding"><div class="security-info-title"><span>安全中心</span></div><div class="security-bindsuc-mail" style=""><div class="security-bindsuc-title" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>绑定邮箱成功 </div><div class="security-bindsuc-div clearfix" style=""><div class="security-verify-div-first" style="">1.验证原邮箱</div><div class="security-verify-div-second" style="">2.验证新邮箱</div><div class="security-verify-div-third" style="">3.完成</div></div><div class="security-bindsuc-tips" style=""><span class="xyvideo-icon xyvideo-icon-warning-white" style=""></span>修改邮箱成功。 </div><div class="security-bindsuc-info" style=""><div class="security-bindsuc-info-right" style=""><img src="../images/tou.png" style=""></div><div class="security-bindsuc-info-desc" style=""><p> 恭喜您，<span style="color: #ff0000;">{ opts.email }</span>绑定成功！ </p>    </div></div><div class="security-bindsuc-btngrp" style=""><a href=\'/my\' name="btn-login" class="btn xingyu-psncenter-bindsuc-center" style="">个人中心 </a><a href=\'/\' name="btn-register" class="btn btn-info xingyu-psncenter-bindsuc-index" style="">返回首页 </a></div></div></div>',function(e){}),riot.tag("rv-psncenter-security-center-bindemail",'<div class="xvideo-pscenter-info pull-right col-xs-7 nopadding"><div class="xvideo-pscenter-info-title"><span>安全中心</span></div><div class="xvideo-pscenter-bindmail" riot-tag="rv-psncenter-bindmail"><div class="xvideo-pscenter-info-mail-title"><span class="xyvideo-icon xyvideo-icon-media-record"></span>邮箱绑定 </div><div class="xvideo-pscenter-bindmail-details" style=""><span class="xyvideo-icon xyvideo-icon-warning-white"></span>为了你的帐号安全，请及时绑定你的邮箱。 <div class="xvideo-pscenter-bindmail-details-table clearfix"><div class="form-group col-sm-12" style=""><label class="col-sm-2 control-label" style="">邮箱：</label><div class="col-sm-10" style=""><input if="{ !opts.bindemail }" type="text" min="6" class="form-control" id="email" value="{ opts.fakeemail }" data-email="{ opts.email }" disabled> { email_tips } <input if="{ opts.bindemail }" value="{ opts.fakeemail }" type="text" min="6" class="form-control" id="email" data-email="{ opts.email }" disabled></div></div><div if="{ bindemail==1 }" class="form-group col-sm-12" style=""><label class="col-sm-2 control-label" style="">状态：</label><div class="col-sm-10" style=""><span class="bindStatus-bind">已绑定</span></div></div><div if="{ opts.bindemail==0 }" class="form-group col-sm-12 security-enter-info-enterverifycode" style=""><label class="col-sm-2 control-label clearfix" style="">验证码：</label><input type="text" class="form-control pull-left xvideo-sceurity-code" placeholder="请输入验证码"><button type="button" name="btn-login" class="btn xvideo-send-security-code video-psncenter-info-mail-btn pull-left" style=""> 发送 </button></div><div class="form-group col-sm-12 xvideo_count_time"> { last_time } </div><div class="form-group col-sm-12 security-enter-info-modifybtn" style=""><label class="col-sm-2 control-label" style="">&nbsp;</label><div if="{ opts.bindemail==0 }" class="col-sm-10"><button type="button" name="btn-login" class="btn xvideo-bind-email" style=""> 确认绑定 </button></div><div if="{ opts.bindemail==1 }" class="col-sm-10"><button type="button" name="btn-login" class="btn xvideo-change-email" style=""> 修改邮箱绑定 </button></div></div></div></div></div><div class="xvideo-pscenter-modifypwd" riot-tag="rv-psncenter-modifypwd"><div class="xvideo-pscenter-modifypwd-title" style=""><span class="xyvideo-icon xyvideo-icon-media-record"></span>密码修改 </div><div class="xvideo-pscenter-modifypwd-info" style=""><div class="xvideo-pscenter-modifypwd-table clearfix"><div class="form-group col-sm-12" style=""><label class="col-sm-2 control-label" style="">&nbsp;&nbsp;&nbsp;&nbsp;旧密码：</label><div class="col-sm-10"><input type="password" disableautocomplete autocomplete="off" min="6" class="form-control" id="user_original_pwd"></div><div class="security-enter-org-pwd-tips" style="width:100%;"><span class="xyvideo-icon xyvideo-icon-cancel3 security-enter-original-pwd-tips-help"></span><span class="xyvideo-icon xyvideo-icon-warning security-enter-original-pwd-tips-warning"></span>{user_org_pwd_tips} </div></div><div class="form-group col-sm-12" style=""><label class="col-sm-2 control-label" style="">&nbsp;&nbsp;&nbsp;&nbsp;新密码：</label><div class="col-sm-10" style=""><input type="password" disableautocomplete autocomplete="off" min="6" class="form-control" id="user_new_pwd"></div><div class="security-enter-new-pwd-tips" style="width:100%;"><span class="xyvideo-icon xyvideo-icon-cancel3 help-block security-enter-new-pwd-tips-help"></span><span class="xyvideo-icon xyvideo-icon-warning security-enter-new-pwd-tips-warning"></span> {user_new_pwd_tips} </div></div><div class="form-group col-sm-12" style=""><label class="col-sm-2 control-label" style="">密码确认：</label><div class="col-sm-10" style=""><input type="password" disableautocomplete autocomplete="off" min="6" class="form-control" id="user_confirm_pwd"></div><div class="security-enter-con-pwd-tips" style="width:100%;"><span class="xyvideo-icon xyvideo-icon-cancel3 help-block security-enter-confirm-pwd-tips-help"></span><span class="xyvideo-icon xyvideo-icon-warning security-enter-confirm-pwd-tips-warning"></span> {user_con_pwd_tips} </div></div><div class="form-group col-sm-12 xvideo-pscenter-modifypwd-modifybtn" style=""><label class="col-sm-2 control-label" style="">&nbsp;</label><div class="col-sm-10"><button type="button" name="btn-login" class="btn video-psncenter-info-mail-btn xvideo-edit-pwd" style="">确认修改 </button></div></div></div></div></div></div>',function(e){function t(e){var t=RegExp(/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/).test(e);return!!t}function i(){o--,s.update({last_time:"已发送验证码到你的邮箱,请在60秒内输入该验证码!剩余"+o+"秒"}),0>o&&($("button.xvideo-send-security-code").attr("disabled",!1),s.update({last_time:null}),clearInterval(a),o=60)}this.bindemail=e.bindemail,this.email=e.email;var a,o=60,s=this;this.update(),riot_object=this,this.on("mount",function(){$("button.xvideo-send-security-code").on("click",function(){var e=$("#email").data().email;return console.log(e),t(e)?void $.ajax({url:"/my/bind_send_verify_code/"+e,method:"GET",async:!1,success:function(e){e.result?(a=setInterval(i,1e3),$("button.xvideo-send-security-code").attr("disabled",!0)):riot_object.update({last_time:"发送失败,原因:"+e.data.message})}}):void riot_object.update({email_tips:"请输入正确格式的邮箱!例:xx@xx.xx"})}),$(".security-enter-info-modifybtn button.xvideo-change-email").on("click",function(){riot.mount($(".my-center-infolist-container")[0],"rv-psncenter-bindmail-verifymail",{email:s.opts.email,fakeemail:s.opts.fakeemail})}),$(".security-enter-info-modifybtn button.xvideo-bind-email").on("click",function(){var e=$("#email").data().email,i=$("input.xvideo-sceurity-code").val();return t(e)?""==i?(riot_object.update({last_time:"验证码不能为空!"}),!1):void $.ajax({url:"/my/bind_verify/"+i,async:!1,method:"GET",success:function(e){e.result?(show_diy_layer("绑定邮箱成功"),$("input.xvideo-sceurity-code").val("")):(show_diy_layer(e.data.message),$("input.xvideo-sceurity-code").val(""))}}):(riot_object.update({email_tips:"请输入正确格式的邮箱!例:xx@xx.xx"}),!1)});var e=!1;$("#user_original_pwd").on("focus",function(t){$(".security-enter-original-pwd-tips-warning").show(),$(".security-enter-original-pwd-tips-help").hide(),$(".security-enter-org-pwd-tips").css("color","#333"),riot_object.user_org_pwd_tips="请输入旧密码",riot_object.update(),e=!1}),$("#user_new_pwd").on("focus",function(t){$(".security-enter-new-pwd-tips-warning").show(),$(".security-enter-new-pwd-tips-help").hide(),$(".security-enter-new-pwd-tips").css("color","#333"),riot_object.user_new_pwd_tips="请输入6-16位密码！这是您新的登录密码.",riot_object.update(),e=!1}),$("#user_confirm_pwd").on("focus",function(t){$(".security-enter-confirm-pwd-tips-warning").show(),$(".security-enter-confirm-pwd-tips-help").hide(),$(".security-enter-con-pwd-tips").css("color","#333"),riot_object.user_con_pwd_tips="请再次输入新密码，并且确保两次输入保持一致",riot_object.update(),e=!1}),$("#user_original_pwd").on("blur",function(t){var i=t.currentTarget.value;return""==i?($(".security-enter-original-pwd-tips-warning").hide(),$(".security-enter-original-pwd-tips-help").show(),$(".security-enter-org-pwd-tips").css("color","red"),riot_object.user_org_pwd_tips="旧密码不能为空!",riot_object.update(),void(e=!1)):($(".security-enter-original-pwd-tips-help").hide(),$(".security-enter-original-pwd-tips-warning").hide(),riot_object.user_org_pwd_tips="",riot_object.update(),e=!0,void 0)}),$("#user_new_pwd").on("blur",function(t){var i=$("#user_original_pwd").val(),a=($("#user_new_pwd").val(),$("#user_confirm_pwd").val(),t.currentTarget.value);return""==i&&($(".security-enter-original-pwd-tips-help").show(),$(".security-enter-org-pwd-tips").css("color","red"),riot_object.user_org_pwd_tips="旧密码不能为空!",riot_object.update(),e=!1),""==a?($(".security-enter-new-pwd-tips-warning").hide(),$(".security-enter-new-pwd-tips-help").show(),$(".security-enter-new-pwd-tips").css("color","red"),riot_object.user_new_pwd_tips="新密码不能为空哦!",riot_object.update(),void(e=!1)):a.length<6||a.length>16?($(".security-enter-new-pwd-tips-warning").hide(),$(".security-enter-new-pwd-tips-help").show(),$(".security-enter-new-pwd-tips").css("color","red"),riot_object.user_new_pwd_tips="密码长度不能小于6个字符,大于16个字符!",riot_object.update(),void(e=!1)):($(".security-enter-new-pwd-tips-help").hide(),$(".security-enter-new-pwd-tips-warning").hide(),riot_object.user_new_pwd_tips="",riot_object.update(),e=!0,void 0)}),$("#user_confirm_pwd").on("blur",function(t){var i=$("#user_original_pwd").val(),a=$("#user_new_pwd").val(),o=($("#user_confirm_pwd").val(),t.currentTarget.value);return""==i&&($(".security-enter-original-pwd-tips-help").show(),$(".security-enter-org-pwd-tips").css("color","red"),riot_object.user_org_pwd_tips="旧密码不能为空!",riot_object.update(),e=!1),""==a&&($(".security-enter-new-pwd-tips-help").show(),$(".security-enter-new-pwd-tips").css("color","red"),riot_object.user_new_pwd_tips="新密码不能为空哦!",riot_object.update(),e=!1),""==o?($(".security-enter-confirm-pwd-tips-warning").hide(),$(".security-enter-confirm-pwd-tips-help").show(),$(".security-enter-con-pwd-tips").css("color","red"),riot_object.user_con_pwd_tips="确认密码不能为空哦",riot_object.update(),void(e=!1)):o.length<6||o.length>16?($(".security-enter-confirm-pwd-tips-warning").hide(),$(".security-enter-confirm-pwd-tips-help").show(),$(".security-enter-con-pwd-tips").css("color","red"),riot_object.user_con_pwd_tips="密码长度不能小于6个字符,大于16个字符!",riot_object.update(),void(e=!1)):o!=a?($(".security-enter-confirm-pwd-tips-warning").hide(),$(".security-enter-confirm-pwd-tips-help").show(),$(".security-enter-con-pwd-tips").css("color","red"),riot_object.user_con_pwd_tips="两次密码不一致,请再次输入确认密码,并且确保两次输入保持一致!",riot_object.update(),void(e=!1)):($(".security-enter-confirm-pwd-tips-help").hide(),$(".security-enter-confirm-pwd-tips-warning").hide(),riot_object.user_con_pwd_tips="",riot_object.update(),e=!0,void 0)}),$(".xvideo-pscenter-modifypwd-modifybtn button").on("click",function(){var t=$("#user_original_pwd").val(),i=$("#user_new_pwd").val(),a=$("#user_confirm_pwd").val();e&&$.ajax({url:"/my/change_password",method:"POST",async:!1,data:{old_password:t,new_password:i,confirm_password:a},success:function(e){e.result?(show_diy_layer("密码修改成功."),$("#user_original_pwd").val(""),$("#user_new_pwd").val(""),$("#user_confirm_pwd").val("")):show_diy_layer("修改失败!原因:"+e.data.message)},error:function(){}})})})}),riot.tag("rv-vcomments",' <div class="v-comment-title clearfix"><div class="v-boder-red pull-left"><span if="{if_has_comment}">共有<span class="" style="color: #EF3E36;">{comments.total}</span>个留言</span><span if="{!if_has_comment}">该视频还没有评论</span></div></div>  <ul class="xvideo-comments-list">  </ul>',function(e){var t=void 0,i=this;i.if_has_comment=!1,this.on("mount",function(){t=$('input[name="video_id"]').val(),RiotControl.trigger("comments_fetch",t)}),RiotControl.on("comments_changed",function(e){e.total&&e.total>0?(i.comments=e,i.if_has_comment=!0,riot.mount($(".xvideo-comments-list")[0],"rv-vcomment",{comments:e})):i.if_has_comment=!1,i.update()})}),riot.tag("rv-vcomment",' <li each="{item in opts.comments.items}" id="comments-{item.comment_id}" class="xvideo-panel-white"><div class="xvideo-panel"><div class="xvideo-panel-header"><div class="xvideo-panel-header-title pull-left clearfix"><span class="xyvideo-icon xyvideo-icon-face"></span><a href="/profile/{item.publisher_id}" class="btn-link-commentor">{item.publisher_name}<img if="{item.publisher_is_vip}" src="../../images/VIPicon.png"></a><span class="text-color-999 mr15px">积分: {item.publisher_credit}</span><span class="text-color-999 mr15px">注册: {item.publisher_created_at}</span><span class="text-color-999 mr15px" style="margin-right: 32px;">视频: {item.publisher_video_count}</span><a class="ib btn-link-report" onclick="{report}">举报</a>  <span class="ib font-size-small" if="{ item.is_informed }" style="font-size:14px;color: #54CE7B"> 已举报 </span><span class="ib font-size-small" if="{if_reported}" style="font-size:14px;color: #54CE7B"> {report_msg} </span></div><div class="xvideo-panel-header-opeartion pull-right"><span class="text-color-999">{item.created_at}</span></div></div><div class="xvideo-panel-body"> {item.content} </div></div></li>',function(e){var t=this;this.if_reported=!1,RiotControl.on("report_changed",function(e,i){t.opts.comments.items.forEach(function(e,t){e.comment_id===i&&(e.is_informed=!0)}),t.update(),show_diy_layer("举报成功")}),this.report=function(e){RiotControl.trigger("comment_report",e.item.item.comment_id)}}),riot.tag("rv-type-bar",'<ul class="v-ul-type-bar clearfix"><li each="{ opts.typeitems }"><a href="/v/search?tag_name={ name }">{ name }</a><span style="">|</span></li></ul>',function(e){}),riot.tag("rv-daterankingtitle",'<div class="ranking-title"><label>{ opts.ranktype }</label></div>','rv-daterankingtitle .ranking-title, [riot-tag="rv-daterankingtitle"] .ranking-title{ float: left; width: 100%; } rv-daterankingtitle label, [riot-tag="rv-daterankingtitle"] label{ margin-top: 10px; margin-left: 25px; font-size: 15px; color: #fff; background: transparent; font-weight: normal; }',function(e){}),riot.tag("rv-daterankinglist",'<div class="v-{ class_type }-list-container" each="{ opts.lists }"><div class="v-list-left"><div class="v-container-left"><div class="v-number-title"> { number } </div></div></div><div class="{ class_ranklist }"><div class="v-container-middle"><a href="/v/{ id_encrypt } " target="_blank"><img class="v-video-img" riot-src="{ thumb_href }"></a><a class="xvideo-thumbnail-mask hide" href="/v/{ id_encrypt }" target="_blank" style="line-height: 82px;"><span class="xyvideo-icon xyvideo-icon-video"></span></a></div><div class="v-container-right"><div class="v-container-right-text1 v-block"><a href="/v/{ id_encrypt }" target="_blank">{ title }</a></div>  <div class="v-container-right-text3 v-block"><span class="xyvideo-icon xyvideo-icon-clock"></span> { duration } </div></div></div></div>',function(e){
this.on("mount",function(e){$(this.root).find(".v-container-middle").hover(function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").removeClass("hide")},function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").addClass("hide")})})}),riot.tag("rv-stvideolist",'<div class="v-selftime-list-container v-float-left v-margin-bottom" each="{ opts.videoitems }"><div class="v-orginal-img"><a class="" href="/v/{ id_encrypt }" target="_blank"><div class="v-img-link"><img riot-src="{ thumb_href }"></div></a><a class="xvideo-thumbnail-mask hide" href="/v/{ id_encrypt }" target="_blank" style="line-height: 82px;"><span class="xyvideo-icon xyvideo-icon-play"></span></a><div class="v-mask-layer v-float-right hide"><div class="v-mask-layer-right "><i class="xyvideo-icon xyvideo-icon-clock"></i> { duration } </div></div></div><div class="v-container-desc"><div class="v-videoname"><a href="/v/{ id_encrypt }" target="_blank">{ title }</a></div><div class="v-selftime-content clearfix"><div class="v-mask-layer-left" style="width:40%;"><i class="xyvideo-icon xyvideo-icon-clock"></i> { duration } </div><div class="v-mask-layer-right" style="width:60%;"> { play_count }观看 </div></div></div></div>',function(e){this.on("mount",function(e){$(this.root).find(".v-selftime-list-container").hover(function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").removeClass("hide"),$(e.currentTarget).find(".v-videoname a").addClass("v-videoname-hover")},function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").addClass("hide"),$(e.currentTarget).find(".v-videoname a").removeClass("v-videoname-hover")})})}),riot.tag("rv-page-box",'<div class="v-page-box"><ul class="v-page-container clearfix" style=""><li class="v-page-forl-button" data-page-url="{ this.first_page_url }"> 首页 </li><li class="v-page-number-button v-page-number-button-previous" data-page-url="{ this.prev_page_url }"><i class="xyvideo-icon xyvideo-icon-chevron-left"></i></li><li class="{ button_type }" each="{ this.pagebutton }" data-button-type="number" data-page-url="{ page_button_url }" data-page-number="{ button_name }"> { button_name } </li><li class="v-page-number-button v-page-number-button-next" data-page-url="{ this.next_page_url }"><i class="xyvideo-icon xyvideo-icon-chevron-right"></i></li><li class="v-page-forl-button" data-page-url="{ this.last_page_url }"> 尾页 </li></ul><span class="v-page-text">第{ this.current_page }页/共{ this.last_page }页</span></div>',function(e){function t(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?decodeURI(i[2]):null}this.ajax_url=e.ajax_url,this.first_page_url=e.first_page_url,this.prev_page_url=e.prev_page_url,this.pagebutton=e.pagebutton,this.next_page_url=e.next_page_url,this.last_page_url=e.last_page_url,this.current_page=e.current_page,this.last_page=e.last_page;var i=this,a=e.fn_mount_video,o=e.fn_side_count,s=e.button_need_ajax,n=t("play_count"),l=t("release"),r=t("tag_name"),d=t("title"),c=t("user_name");n&&(this.first_page_url+="&play_count="+n,this.prev_page_url+="&play_count="+n,this.next_page_url+="&play_count="+n,this.last_page_url+="&play_count="+n),l&&(this.first_page_url+="&release="+l,this.prev_page_url+="&release="+l,this.next_page_url+="&release="+l,this.last_page_url+="&release="+l),r&&(this.first_page_url+="&tag_name="+r,this.prev_page_url+="&tag_name="+r,this.next_page_url+="&tag_name="+r,this.last_page_url+="&tag_name="+r),d&&(this.first_page_url+="&title="+d,this.prev_page_url+="&title="+d,this.next_page_url+="&title="+d,this.last_page_url+="&title="+d),c&&(this.first_page_url+="&user_name="+c,this.prev_page_url+="&user_name="+c,this.next_page_url+="&user_name="+c,this.last_page_url+="&user_name="+c),i.update(),this.on("mount",function(){var e=$('li[data-button-type="number"]'),t=$("li.v-page-forl-button"),v=$("li.v-page-number-button-previous"),p=$("li.v-page-number-button-next");1===s&&($.each(e,function(){$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),s=$(e.currentTarget).attr("data-page-url");$.ajax({url:s,async:!1,data:{page:t},success:function(e){a(e),$(".v-page-forl-button-activity").removeClass("v-page-forl-button-activity"),$("[data-page-number="+e.data.current_page+"]").parent().addClass("v-page-forl-button-activity");var t={};t.pagebutton=[],t.ajax_url=i.ajax_url,t.current_page=e.data.current_page,t.last_page=e.data.last_page,t.prev_page_url=i.ajax_url+"?page="+(parseInt(e.data.current_page)-1),t.next_page_url=i.ajax_url+"?page="+(parseInt(e.data.current_page)+1),t.last_page_url=i.ajax_url+"?page="+e.data.last_page,t.first_page_url=i.ajax_url+"?page=1",t.button_need_ajax=1,t.fn_side_count=o,t.fn_mount_video=a;for(var s=o(t.current_page,t.last_page,3),n=s.page_from;n<=s.page_to;n++)n==t.current_page?t.pagebutton.push({page_button_url:i.ajax_url,button_type:"v-page-number-button v-page-forl-button-activity",button_name:n}):t.pagebutton.push({page_button_url:i.ajax_url,button_type:"v-page-number-button",button_name:n});riot.mount($(".v-rv-page-box")[0],"rv-page-box",t)}})})}),$.each(t,function(){$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-url");$.ajax({url:t,async:!1,success:function(e){a(e),$(".v-page-forl-button-activity").removeClass("v-page-forl-button-activity"),$("[data-page-number="+e.data.current_page+"]").parent().addClass("v-page-forl-button-activity");var t={};t.pagebutton=[],t.ajax_url=i.ajax_url,t.current_page=e.data.current_page,t.last_page=e.data.last_page,t.prev_page_url=i.ajax_url+"?page="+(parseInt(e.data.current_page)-1),t.next_page_url=i.ajax_url+"?page="+(parseInt(e.data.current_page)+1),t.last_page_url=i.ajax_url+"?page="+e.data.last_page,t.first_page_url=i.ajax_url+"?page=1",t.button_need_ajax=1,t.fn_side_count=o,t.fn_mount_video=a;for(var s=o(t.current_page,t.last_page,3),n=s.page_from;n<=s.page_to;n++)n==t.current_page?t.pagebutton.push({page_button_url:i.ajax_url,button_type:"v-page-number-button v-page-forl-button-activity",button_name:n}):t.pagebutton.push({page_button_url:i.ajax_url,button_type:"v-page-number-button",button_name:n});riot.mount($(".v-rv-page-box")[0],"rv-page-box",t)}})})}),1!==i.current_page&&$(v).on("click",function(e){var t=$(e.currentTarget).attr("data-page-url");$.ajax({url:t,async:!1,success:function(e){a(e),$(".v-page-forl-button-activity").removeClass("v-page-forl-button-activity"),$("[data-page-number="+e.data.current_page+"]").parent().addClass("v-page-forl-button-activity");var t={};t.pagebutton=[],t.ajax_url=i.ajax_url,t.current_page=e.data.current_page,t.last_page=e.data.last_page,t.prev_page_url=i.ajax_url+"?page="+(parseInt(e.data.current_page)-1),t.next_page_url=i.ajax_url+"?page="+(parseInt(e.data.current_page)+1),t.last_page_url=i.ajax_url+"?page="+e.data.last_page,t.first_page_url=i.ajax_url+"?page=1",t.button_need_ajax=1,t.fn_side_count=o,t.fn_mount_video=a;for(var s=o(t.current_page,t.last_page,3),n=s.page_from;n<=s.page_to;n++)n==t.current_page?t.pagebutton.push({page_button_url:i.ajax_url,button_type:"v-page-number-button v-page-forl-button-activity",button_name:n}):t.pagebutton.push({page_button_url:i.ajax_url,button_type:"v-page-number-button",button_name:n});riot.mount($(".v-rv-page-box")[0],"rv-page-box",t)}})}),i.current_page!==i.last_page&&$(p).on("click",function(e){var t=$(e.currentTarget).attr("data-page-url");$.ajax({url:t,async:!1,success:function(e){a(e),$(".v-page-forl-button-activity").removeClass("v-page-forl-button-activity"),$("[data-page-number="+e.data.current_page+"]").parent().addClass("v-page-forl-button-activity");var t={};t.pagebutton=[],t.ajax_url=i.ajax_url,t.current_page=e.data.current_page,t.last_page=e.data.last_page,t.prev_page_url=i.ajax_url+"?page="+(parseInt(e.data.current_page)-1),t.next_page_url=i.ajax_url+"?page="+(parseInt(e.data.current_page)+1),t.last_page_url=i.ajax_url+"?page="+e.data.last_page,t.first_page_url=i.ajax_url+"?page=1",t.button_need_ajax=1,t.fn_side_count=o,t.fn_mount_video=a;for(var s=o(t.current_page,t.last_page,3),n=s.page_from;n<=s.page_to;n++)n==t.current_page?t.pagebutton.push({page_button_url:i.ajax_url,button_type:"v-page-number-button v-page-forl-button-activity",button_name:n}):t.pagebutton.push({page_button_url:i.ajax_url,button_type:"v-page-number-button",button_name:n});riot.mount($(".v-rv-page-box")[0],"rv-page-box",t)}})})),0===s&&($.each(e,function(){n&&$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?play_count="+n+"&page="+t}),l&&$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?release="+l+"&page="+t}),r&&(n||l||$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?tag_name="+r+"&page="+t}),n&&$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?tag_name="+r+"&page="+t+"&play_count="+n}),l&&$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?tag_name="+r+"&page="+t+"&release="+l})),d&&(n&&$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?title="+d+"&page="+t+"&play_count="+n}),l&&$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?title="+d+"&page="+t+"&release="+l}),n||l||$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?title="+d+"&page="+t})),c&&(n||l||$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?tag_name="+c+"&page="+t}),n&&$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?user_name="+c+"&page="+t+"&play_count="+n}),l&&$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?user_name="+c+"&page="+t+"&release="+l})),n||l||r||d||c||$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-number"),i=$(e.currentTarget).attr("data-page-url");location.href=i+"?&page="+t})}),$.each(t,function(){$(this).on("click",function(e){var t=$(e.currentTarget).attr("data-page-url");location.href=t})}),1!==i.current_page&&$(v).on("click",function(e){var t=$(e.currentTarget).attr("data-page-url");location.href=t}),i.current_page!==i.last_page&&$(p).on("click",function(e){var t=$(e.currentTarget).attr("data-page-url");location.href=t}))})}),riot.tag("rv-video-title-bar",'<div if="{ opts.type != 1 }" class="v-selftime-title-main v-selftime-title-main-{ opts.icon } v-float-left"><span if="{ opts.type == 3 }" class="icon-uniE90E xyvideo-selftitle-icon-{ opts.icon }"></span><span if="{ opts.type != 3 }" class="xyvideo-icon { opts.icon } xyvideo-selftitle-icon-{ opts.icon }"></span> { opts.title_name } </div><div if="{ opts.type == 1 }" class="v-selftime-title-main-search v-float-left"><div class="v-selftime-title-video v-selftime-title-main-video">视频</div><div class="v-selftime-title-tag v-selftime-title-main-tag">标签</div><div class="v-selftime-title-user v-selftime-title-main-user">用户</div><div class="v-selftime-title-main-search" style="margin-left: 20px;"><span class="xyvideo-icon xyvideo-icon-query"></span><span>&nbsp;{ video_title }{ tag_name }{ user_name }</span></div><div class="v-seachvideo-total" style="color:#999;"><span style="margin-left:15px;color: #999;">找到 <span style="color: #EF3E36;">&nbsp;{ opts.total }&nbsp;</span> 条结果 </span></div></div><div if="{ opts.type == 2 || opts.type == 3 }" class="v-selftime-title-rank v-float-left"><lable class="v-float-left v-margin-right" style="color: #333;">默认排序:</lable><div class="v-float-left v-margin-right v-lasted-announced-{ announced_click }-{ opts.icon } " href="#"><a href="javascript:void(0);" data-video-url="{ opts.url }" data-video-sequence="{ release_sequence }" class="v-latest-announced">最新发布</a><i class="xyvideo-icon xyvideo-icon-arrow-{ release_arrow }-thick"></i></div><div class="v-float-left v-lasted-play-more-{ play_more }-{ opts.icon }"><a href="javascript:void(0);" data-video-url="{ opts.url }" data-video-sequence="{ play_count_sequence }" class="v-up-to-play">最多播放</a><i class="xyvideo-icon xyvideo-icon-arrow-{ play_count_arrow }-thick"></i></div><div class="v-video-total v-float-left"> 共计:{ opts.total }个视频 </div></div><div if="{ opts.type == 1 }" class="v-selftime-title-rank"><div class="v-float-right v-seachvideo-rank"><lable class="v-margin-right">默认排序:</lable><div class="v-margin-right v-lasted-announced-{ announced_click }-{ opts.icon }"><a href="javascript:void(0);" data-video-url="{ opts.url }" data-video-sequence="{ release_sequence }" class="v-latest-announced">最新发布</a><i class="xyvideo-icon xyvideo-icon-arrow-{ release_arrow }-thick"></i></div><div class="v-lasted-play-more-{ play_more }-{ opts.icon }"><a href="javascript:void(0);" data-video-url="{ opts.url }" data-video-sequence="{ play_count_sequence }" class="v-up-to-play">最多播放</a><i class="xyvideo-icon xyvideo-icon-arrow-{ play_count_arrow }-thick"></i></div></div></div>',function(e){function t(e,t,i){var a=Object.keys(t)[0],o=t[Object.keys(t)[0]];location.href=e+"?"+a+"="+o+(null==l?"":"&tag_name="+l)+(null==r?"":"&user_name="+r)+(null==n?"":"&title="+encodeURI(i))}function i(e){var t=new RegExp("(^|&)"+e+"=([^&]*)(&|$)"),i=window.location.search.substr(1).match(t);return null!=i?unescape(i[2]):null}var a=this,o=i("release"),s=i("play_count"),n=xvideoData.inputs.title,l=xvideoData.inputs.tag_name,r=xvideoData.inputs.user_name;null!=n&&""!=n&&"undefined"!=n||(n=null);var d="click",c="unclick";null==o&&null==s?(d="click",c="unclick"):null!=o&&null==s?(d="click",c="unclick"):null==o&&null!=s&&(d="unclick",c="click"),null!=n?$("input.form-control").val(n):null!=l?$("input.form-control").val(l):null!=r?$("input.form-control").val(r):$("input.form-control").val(""),a.update({release_arrow:null==o?"down":"desc"==o?"down":"up",release_sequence:null==o?"desc":o,play_count_arrow:null==s?"down":"desc"==s?"down":"up",play_count_sequence:null==s?"desc":s,video_title:n,tag_name:l,user_name:r,announced_click:d,play_more:c}),this.on("mount",function(){null!=n&&($(".v-selftime-title-video").addClass("v-selftime-title-main-video"),$(".v-selftime-title-video").removeClass("v-selftime-title-main-video-unclick"),$(".v-selftime-title-tag").addClass("v-selftime-title-main-tag"),$(".v-selftime-title-tag").removeClass("v-selftime-title-main-tag-click"),$(".v-selftime-title-user").addClass("v-selftime-title-main-user"),$(".v-selftime-title-user").removeClass("v-selftime-title-main-user-click")),null!=l&&($(".v-selftime-title-tag").addClass("v-selftime-title-main-tag-click"),$(".v-selftime-title-tag").removeClass("v-selftime-title-main-tag"),$(".v-selftime-title-user").addClass("v-selftime-title-main-user"),$(".v-selftime-title-user").removeClass("v-selftime-title-main-user-click"),$(".v-selftime-title-video").addClass("v-selftime-title-main-video-unclick"),$(".v-selftime-title-video").removeClass("v-selftime-title-main-video")),null!=r&&($(".v-selftime-title-user").addClass("v-selftime-title-main-user-click"),$(".v-selftime-title-user").removeClass("v-selftime-title-main-user"),$(".v-selftime-title-tag").addClass("v-selftime-title-main-tag"),$(".v-selftime-title-tag").removeClass("v-selftime-title-main-tag-click"),$(".v-selftime-title-video").removeClass("v-selftime-title-main-video"),$(".v-selftime-title-video").addClass("v-selftime-title-main-video-unclick")),$(".v-selftime-title-rank .v-up-to-play").on("click",function(e){var i=$(e.currentTarget).attr("data-video-sequence"),a=$(e.currentTarget).attr("data-video-url"),o={};"desc"==i&&(o={play_count:"asc"},t(a,o,n)),"asc"==i&&(o={play_count:"desc"},t(a,o,n))}),$(".v-selftime-title-rank .v-latest-announced").on("click",function(e){var i=$(e.currentTarget).attr("data-video-sequence"),a=$(e.currentTarget).attr("data-video-url"),o={};"desc"==i&&(o={release:"asc"},t(a,o,n)),"asc"==i&&(o={release:"desc"},t(a,o,n))}),$(".v-selftime-title-video").on("click",function(e){"v-selftime-title-video v-selftime-title-main-video"==e.currentTarget.getAttribute("class")||($(".v-selftime-title-video").addClass("v-selftime-title-main-video"),$(".v-selftime-title-video").removeClass("v-selftime-title-main-video-unclick")),$(".v-selftime-title-tag").addClass("v-selftime-title-main-tag"),$(".v-selftime-title-tag").removeClass("v-selftime-title-main-tag-click"),$(".v-selftime-title-user").addClass("v-selftime-title-main-user"),$(".v-selftime-title-user").removeClass("v-selftime-title-main-user-click"),n=$("input.form-control").val(),l=null,r=null;var i="search",a={release:"desc"};t(i,a,n)}),$(".v-selftime-title-tag").on("click",function(e){$(".v-selftime-title-tag").addClass("v-selftime-title-main-tag-click"),$(".v-selftime-title-tag").removeClass("v-selftime-title-main-tag"),$(".v-selftime-title-user").addClass("v-selftime-title-main-user"),$(".v-selftime-title-user").removeClass("v-selftime-title-main-user-click"),$(".v-selftime-title-video").addClass("v-selftime-title-main-video-unclick"),$(".v-selftime-title-video").removeClass("v-selftime-title-main-video"),l=$("input.form-control").val(),n=null,r=null;var i="search",a={release:"desc"};t(i,a,l)}),$(".v-selftime-title-user").on("click",function(e){$(".v-selftime-title-user").addClass("v-selftime-title-main-user-click"),$(".v-selftime-title-user").removeClass("v-selftime-title-main-user"),$(".v-selftime-title-tag").addClass("v-selftime-title-main-tag"),$(".v-selftime-title-tag").removeClass("v-selftime-title-main-tag-click"),$(".v-selftime-title-video").removeClass("v-selftime-title-main-video"),$(".v-selftime-title-video").addClass("v-selftime-title-main-video-unclick"),l=null,n=null,r=$("input.form-control").val();var i="search",a={release:"desc"};t(i,a,r)})})}),riot.tag("rv-preview-video-box",'<div class="v-search-video-box v-search-video-box-marginright-{ margin_size } v-search-video-box-marginbottom" each="{ opts.video_box_data }"><div class="v-search-video-box-video-info"><a href="/v/{ id_encrypt }" target="_blank"><div class="v-search-video-img"><img riot-src="{ thumb_href }"></div></a><a class="xvideo-thumbnail-mask hide" href="/v/{ id_encrypt }" target="_blank"><span class="xyvideo-icon xyvideo-icon-play"></span></a><div if="{ isSearch != 1 }" class="v-mask-layer"><div class="v-mask-layer-left"> { play_count } 人观看 </div><div class="v-mask-layer-right"><i class="xyvideo-icon xyvideo-icon-clock"></i> { duration } </div></div><div if="{ isSearch == 1 }" class="v-search-video-time"><i class="xyvideo-icon xyvideo-icon-clock"></i> { duration } </div><div class="v-mask-video-modify"><a href="{ video_href }/{ id_encrypt }" target="_blank" style="text-decoration: none;"><div class="v-mask-video-modify-play-btn"></div></a><div class="v-mask-video-modify-font" data-video-id="{ id }">编辑</div></div><div class="v-mask-video-delete"><a href="{ video_href }/{ id_encrypt }" target="_blank" style="text-decoration: none;"><div class="v-mask-video-delete-play-btn"></div></a><div class="v-mask-video-delete-font" data-collectionvideo-id="{ id }">删除</div></div><div if="{ status !=3 && status !=10 && status !=11 }" class="v-mask-video-not-reviewed"><span class="xyvideo-icon xyvideo-icon-video-in-auth"></span>&nbsp;&nbsp;正在审核 </div><div if="{ status== 3 || status== 11 }" class="v-mask-video-reviewing"><div class="v-mask-video-reviewing-top"><span class="xyvideo-icon xyvideo-icon-auth-fail"></span>&nbsp;&nbsp;审核失败 </div><div class="v-mask-video-reviewing-bottom"> 失败原因：杏娱游戏的网站以及杏娱游戏. </div></div></div><div if="{ status== 10 }" class="v-search-video-desc"><div class="v-search-video-name"><a href="/v/{ id_encrypt }" target="_blank"><lable>{ title }</lable></a></div><div if="{ isSearch == 1 }" class="v-search-video-content clearfix"><div class="v-mask-layer-left" style="color:#aaa;width:40%;"><i class="xyvideo-icon xyvideo-icon-eye2"></i> { play_count } </div><div class="v-mask-layer-right" style="color:#aaa;width:60%;"> { timeout } </div></div></div><div if="{ status != 10 }" class="v-search-video-desc"><div class="v-search-video-name"><a style="cursor: auto;"><lable>{ title }</lable></a></div></div></div><div style="clear:both"></div>',function(e){this.on("mount",function(e){"/v/search"==location.pathname?$(this.root).find(".v-search-video-box").hover(function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").removeClass("hide"),$(e.currentTarget).find(".v-search-video-name a").addClass("v-search-video-name-hover")},function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").addClass("hide"),$(e.currentTarget).find(".v-search-video-name a").removeClass("v-search-video-name-hover")}):$(this.root).find(".v-search-video-box-video-info").hover(function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").removeClass("hide")},function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").addClass("hide")})})}),riot.tag("rv-search-noresult",'<div class="v-search-noresult clearfix"><div class=" v-search-float xyvideo-icon xyvideo-icon-error-video"></div><label class="v-search-float">抱歉,搜索无此视频!</label></div>','rv-search-noresult .v-search-noresult, [riot-tag="rv-search-noresult"] .v-search-noresult{ margin: 150px auto; width: 300px; color: #999999; } rv-search-noresult .v-search-noresult div, [riot-tag="rv-search-noresult"] .v-search-noresult div{ font-size: 40px !important; margin: auto 4px; } rv-search-noresult .v-search-noresult label, [riot-tag="rv-search-noresult"] .v-search-noresult label{ font-size: 25px; margin: auto 4px; } rv-search-noresult .v-search-float, [riot-tag="rv-search-noresult"] .v-search-float{ float: left; }',function(e){}),riot.tag("rv-upload-tips",'<div class="upload-tips-title"> 上传视频 </div><div class="upload-tips-body"><div if="{ this.uploadtips==true }" class="upload-tips-body-head v-color-success"><span class="xyvideo-icon xyvideo-icon-upload-success"></span> 上传成功!感谢你的热情奉献,如果作品符合我们的上传规则,我们将会在48个小时内完成发布!发布完成后可在线观看. </div><div if="{ this.uploadtips==false }" class="upload-tips-body-head v-color-fail"><span class="xyvideo-icon xyvideo-icon-upload-fail"></span> 上传失败!请重新检索你的视频是否符合平台规范,谢谢. </div><div class="upload-tips-body-bfoot"><div class="v-button-group"><a type="button" class="btn" href="/my?myvideo=1" style="margin-right: 40px;background-color: #ef374c;color: #ffffff;">查看我的作品</a><a type="button" class="btn btn-return-ingdex" href="/">返回首页</a></div></div></div>',function(e){this.uploadtips=xvideoData.result}),riot.tag("rv-vtagwall",'<ul class="xvideo-tags-wall clearfix"><li each="{item in items}" id="xvideo-tagwall-{item.id}"><a href="/v/search?tag_name={item.name}">{item.name}</a></li></ul><div class="xvideo-tags-wall-navigation"><div class="pull-left"><a class="xyvideo-icon xyvideo-icon-chevron-left-outline" onclick="{next}"></a></div><div class="xvideo-tags-wall-navigation-title"> 热门视频标签 </div><div class="pull-right"><a class="xyvideo-icon xyvideo-icon-chevron-right-outline" onclick="{prev}"></a></div></div>',function(e){var t=this,i=2;this.on("mount",function(){RiotControl.trigger("tags_fetch",2)}),RiotControl.on("tags_changed",function(e){t.items=e,t.update()}),this.next=function(){3!==i&&(i+=1,RiotControl.trigger("tags_fetch",i))},this.prev=function(){1!==i&&(i-=1,RiotControl.trigger("tags_fetch",i))}}),riot.tag("rv-vtypes",'<div class="xvideo-vtypes-container"><rg-tabs tabs="{opts.vTags}" onopen="{onTabActive}"><rg-tab each="{tabs}" heading="{heading}" active="{active}"><rv-vchunk-list vitems="{vitems}"></rv-vchunk-list></rg-tab></rg-tabs></div>','rv-vtypes .xvideo-recommend-container, [riot-tag="rv-vtypes"] .xvideo-recommend-container{ padding: 10px 0; }',function(e){var t=(this.tags["rg-tabs"],this),i=function(e){return $.ajax({url:"/video_shown/video_list/"+e,type:"GET",dataType:"json"})};this.onTabActive=function(e){this.tags["rg-tab"].forEach(function(a){0===e.index?(t.tags["rg-tabs"].tags["rg-tab"][0].vitems=xvideoData.videoSection,t.tags["rg-tabs"].tags["rg-tab"][0].update()):a.tabId===e.tabId&&i(a.tabId).done(function(e){a.vitems=e.data,a.update()})})},this.on("mount",function(){t.tags["rg-tabs"].tags["rg-tab"][0].vitems=xvideoData.videoSection,t.tags["rg-tabs"].tags["rg-tab"][0].update()})}),riot.tag("rg-raw","<span></span>",function(e){this.on("mount update",function(){this.root.innerHTML=e.content||""})}),riot.tag("rg-select",'<div class="container { visible: visible }" riot-style="width: { width }"><input if="{ !autocomplete }" type="text" name="selectfield" class="field { visible: visible }" value="{ fieldText }" placeholder="{ opts.placeholder }" onkeydown="{ handleKeys }" onclick="{ toggle }" readonly><input if="{ autocomplete }" type="text" name="autocompletefield" class="field { visible: visible }" value="{ fieldText }" placeholder="{ opts.placeholder }" onkeydown="{ handleKeys }" onclick="{ toggle }" oninput="{ filterItems }" ><div class="dropdown { visible: visible } { empty: filteredItems.length == 0 }"><div class="filter" if="{ filter }"><input type="text" name="filterfield" class="filter-box" placeholder="{ opts[\'filter-placeholder\'] || \'Filter\' }" onkeydown="{ handleKeys }" oninput="{ filterItems }"></div><ul class="list { empty: filteredItems.length == 0 }"><li each="{ filteredItems }" onclick="{ parent.select }" class="item { selected: selected, disabled: disabled, active: active }"> { text } </li></ul></div></div>','rg-select .container, [riot-tag="rg-select"] .container{ position: relative; display: inline-block; cursor: pointer; } rg-select .field, [riot-tag="rg-select"] .field{ width: 100%; padding: 10px; border: 1px solid #D3D3D3; box-sizing: border-box; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; font-size: 1em; line-height: normal; outline: 0; } rg-select .dropdown, [riot-tag="rg-select"] .dropdown{ display: none; position: relative; width: 100%; background-color: white; border-bottom: 1px solid #D3D3D3; box-sizing: border-box; overflow-y: auto; overflow-x: hidden; max-height: 280px; } rg-select .dropdown.visible, [riot-tag="rg-select"] .dropdown.visible{ display: block; } rg-select .dropdown.empty, [riot-tag="rg-select"] .dropdown.empty{ border-bottom: 0; } rg-select .filter-box, [riot-tag="rg-select"] .filter-box{ width: 100%; padding: 10px; font-size: 0.9em; border: 0; border-left: 1px solid #D3D3D3; border-right: 1px solid #D3D3D3; border-bottom: 1px solid #E8E8E8; outline: none; color: #555; box-sizing: border-box; } rg-select .list, [riot-tag="rg-select"] .list,rg-select .item, [riot-tag="rg-select"] .item{ list-style: none; padding: 0; margin: 0; } rg-select .list.empty, [riot-tag="rg-select"] .list.empty{ display: none; } rg-select .item, [riot-tag="rg-select"] .item{ padding: 10px; border-left: 1px solid #D3D3D3; border-right: 1px solid #D3D3D3; border-top: 1px solid #E8E8E8; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; } rg-select .item:first-child, [riot-tag="rg-select"] .item:first-child{ border-top: 0; } rg-select .selected, [riot-tag="rg-select"] .selected{ font-weight: bold; background-color: #f8f8f8; } rg-select .item:hover, [riot-tag="rg-select"] .item:hover{ background-color: #f3f3f3; } rg-select .item.active, [riot-tag="rg-select"] .item.active,rg-select .item:hover.active, [riot-tag="rg-select"] .item:hover.active{ background-color: #ededed; }',function(e){var t=this;this.visible=!0;var i=function(i){t.root.contains(i.target)||(rg.isFunction(e.onclose)&&t.visible&&e.onclose(),t.visible=!1,t.update())};this.handleKeys=function(e){if([13,38,40].indexOf(e.keyCode)>-1&&!t.visible)return e.preventDefault(),t.toggle(),!0;t.autocomplete&&!t.visible&&(t.visible=!0);var i=t.filteredItems.length;if(i>0&&[13,38,40].indexOf(e.keyCode)>-1){e.preventDefault();for(var a=null,o=0;i>o;o++){var s=t.filteredItems[o];if(s.active){a=o;break}}null!=a&&(t.filteredItems[a].active=!1),38==e.keyCode?null==a||0==a?t.filteredItems[i-1].active=!0:t.filteredItems[a-1].active=!0:40==e.keyCode?null==a||a==i-1?t.filteredItems[0].active=!0:t.filteredItems[a+1].active=!0:13==e.keyCode&&null!=a&&t.select({item:t.filteredItems[a]})}return!0},this.toggle=function(){t.visible=!t.visible,rg.isFunction(e.onopen)&&t.visible?e.onopen():rg.isFunction(e.onclose)&&!t.visible&&e.onclose()},this.filterItems=function(){rg.isArray(e.options)&&(t.filteredItems=e.options.filter(function(i){i.active=!1;var a=e["filter-on"]||"text",o=i[a];if(rg.isUndefined(o))throw Error("filter-on field is undefined: option."+a);var s=t.filterfield.value;return t.autocomplete&&(s=t.autocompletefield.value),0==s.length||o.toString().toLowerCase().indexOf(s.toString().toLowerCase())>-1?!0:void 0}),rg.isFunction(e.onfilter)&&e.onfilter(),t.update())},this.select=function(i){i=i.item,rg.isArray(e.options)&&(e.options.forEach(function(e){return e.selected=!1}),i.selected=!0,rg.isFunction(e.onselect)&&e.onselect(i),t.selectfield.value=i.text,t.autocompletefield.value=i.text,t.visible=!1,t.autocomplete&&t.filterItems())},this.on("mount",function(){if(t.filterItems(),rg.isArray(e.options)){e.options.forEach(function(e,i){e.index=i,e.selected&&t.select({item:e})}),document.addEventListener("click",i);var a=t.root.querySelector(".dropdown");t.width=a.getBoundingClientRect().width+20+"px",a.style.position="absolute",t.autocomplete=rg.toBoolean(e.autocomplete),t.visible=rg.toBoolean(e.visible),t.filter=rg.toBoolean(e.filter),t.fieldText=e.value,t.update()}}),this.on("unmount",function(){return document.removeEventListener("click",i)})}),riot.tag("rg-tab-heading","<yield></yield>",'rg-tab-heading, [riot-tag="rg-tab-heading"]{ display: none; }',function(e){}),riot.tag("rg-tab",'<div class="tab { active: active }"><yield></yield></div>',".tab { display: none; padding: 0; } .tab.active { display: block; }",function(e){this.on("update",function(e){}),this.active="true"==e.active,this.disabled="true"==e.disabled}),riot.tag("rg-tabs",'<div class="tabs"><div class="headers clearfix"><div each="{ tab in tabs }" class="header { active: tab.active, disabled: tab.disabled, hide : tab.disabled}" onclick="{ activate }"><div class="heading" if="{ tab.heading }"><rg-raw content="{ tab.heading }"></rg-raw></div></div></div><yield></yield></div>','rg-tabs .tabs, [riot-tag="rg-tabs"] .tabs{ background-color: transparent; margin-bottom: 0; } rg-tabs .headers, [riot-tag="rg-tabs"] .headers{ width: 100%; } rg-tabs .header, [riot-tag="rg-tabs"] .header{ float: left; width: 100px; height: 30px; box-sizing: border-box; text-align: center; cursor: pointer; color: #ccc; } rg-tabs .header:hover, [riot-tag="rg-tabs"] .header:hover{ background: #d50678; transition: all 0.3s ease 0s; color: #fff; } rg-tabs .heading, [riot-tag="rg-tabs"] .heading{ padding: 0; margin: 0; height: 100%; line-height: 30px; } rg-tabs .header.active, [riot-tag="rg-tabs"] .header.active{ background-color: #d50678; } rg-tabs .header.active .heading, [riot-tag="rg-tabs"] .header.active .heading{ color: #ffffff; } rg-tabs .header.disabled .heading, [riot-tag="rg-tabs"] .header.disabled .heading{ color: #ffffff; }',function(e){var t=this;this.onopen=e.onopen||function(){},this.tabs=e.tabs;var i=function(){return t.tabs.forEach(function(e){return e.active=!1})};this.on("mount",function(){var e=!1;t.tabs.forEach(function(t,i){t.index=i,e&&(t.active=!1),t.active&&(e=!0),0===i&&(t.active=!0),0===i&&(t.disabled=!1)}),t.update()}),this.activate=function(e){var a=e.item.tab;a.disabled||(i(),rg.isFunction(t.onopen)&&t.onopen(a),a.active=!0)}}),riot.tag("rv-vchunk",'<div class="rv-vchunk-container" style="height: 400px"><rv-vtitle type="vchunk-show" headerColor="dimred" icon="newest-self-video" name="{opts.name}" href="{opts.href}"></rv-vtitle><rv-vchunk-list vitems="{vitems}"></rv-vchunk-list></div>','rv-vchunk .rv-vchunk-container, [riot-tag="rv-vchunk"] .rv-vchunk-container{ width: 1170px; margin-top: 20px; } rv-vchunk .xvideo-vchunk-morevideos a, [riot-tag="rv-vchunk"] .xvideo-vchunk-morevideos a{ color: #fc4d51; font-size: 14px; text-decoration: none; transition: all 0.3s ease 0s; } rv-vchunk .xvideo-vtitle-container, [riot-tag="rv-vchunk"] .xvideo-vtitle-container{ color: #f72abb; font-size: 28px; width: 1170px; } rv-vchunk .xyvideo-icon-newest-self-video, [riot-tag="rv-vchunk"] .xyvideo-icon-newest-self-video{ font-size: 28px; } rv-vchunk .xvideo-vchunk-refresh, [riot-tag="rv-vchunk"] .xvideo-vchunk-refresh{ position: relative; bottom: 3px; color: #f72abb; font-size: 16px; }',function(e){
this.vitems=e.vitems,this.on("mount",function(e){})}),riot.tag("rv-vchunk-ie8",'<div class="rv-vchunk-container" style="height: auto"><div class="rv-vtitle"></div><div class="rv-vchunk-list clearfix"></div></div>',function(e){this.vitems=e.vitems;var t=this;this.on("mount",function(e){riot.mount($(".rv-vtitle"),"rv-vtitle-ie8",{type:{vchunk_show:!0},headerColor:"dimred",icon:"90E",name:t.opts.name,href:t.opts.href,is_show_refresh:!1}),riot.mount($(".rv-vchunk-list"),"rv-stvideolist",{videoitems:t.opts.vitems})})}),riot.tag("rv-vchunk-list",'<div class="xvideo-recommend-container"><div class="xvideo-second-recommed pull-right col-xs-12 nopadding"><div class="xvideo-recommend-group"><ul class="xvideo-list"><rv-vchunk-item each="{opts.vitems}"></rv-vchunk-item></ul></div><div class="xvideo-loading-mask-container" if="{ is_load_completed }"><div class="xvideo-loading-mask"></div><img class="xvideo-loading-mask-spin-riot" src="/images/spin.gif"></div></div></div>','rv-vchunk-list .xvideo-recommend-container, [riot-tag="rv-vchunk-list"] .xvideo-recommend-container{ background-color: transparent; margin-top: 0; box-shadow: none; } rv-vchunk-list .xvideo-recommend-container .xvideo-second-recommed .xvideo-recommend-group ul li, [riot-tag="rv-vchunk-list"] .xvideo-recommend-container .xvideo-second-recommed .xvideo-recommend-group ul li{ margin-right: 44px; } rv-vchunk-list .xyvideo-icon-play_circle_outline, [riot-tag="rv-vchunk-list"] .xyvideo-icon-play_circle_outline{ display: none; font-size: 50px; color: #333; } rv-vchunk-list .xvideo-second-recommend-desc, [riot-tag="rv-vchunk-list"] .xvideo-second-recommend-desc{ opacity: 0.4; font-size: 12px; bottom: 23px; padding: 0 10px; } rv-vchunk-list .xvideo-recommend-title, [riot-tag="rv-vchunk-list"] .xvideo-recommend-title{ position: relative; top: 6px; height: 45px; overflow: hidden; text-overflow: ellipsis; word-break: break-all; font-size: 14px; color: #fff; }',function(e){this.on("mount",function(){})}),riot.tag("rv-vchunk-item",'<li class="xvideo-item-{id} xvideo-vchunk-item position-relative"><a href="/v/{id_encrypt}" target="_blank" style="width: 200px;height: 120px;"><img style="width: 200px;height: 120px;" riot-src="{thumb_href}" alt="{title}"><span class="xyvideo-icon xyvideo-icon-play_circle_outline"></span><div class="xvideo-recommend-title">{title}</div></a><div class="xvideo-second-recommend-desc clearfix"><div class="pull-left"> {timeout} </div><div class="pull-right"><span class="xyvideo-icon xyvideo-icon-clock"></span>{duration} </div></div><a class="xvideo-thumbnail-mask hide" href="/v/{id_encrypt}" target="_blank"><span class="xyvideo-icon xyvideo-icon-video"></span></a></li>','rv-vchunk-item .xvideo-vchunk-item, [riot-tag="rv-vchunk-item"] .xvideo-vchunk-item{ position: relative; } rv-vchunk-item .xvideo-thumbnail-mask, [riot-tag="rv-vchunk-item"] .xvideo-thumbnail-mask{ position: absolute !important; width: 200px; height: 120px; top: 0; left: 0; background: #333; opacity: 0.7; -webkit-transition: all 1s linear; -moz-transition: all 1s linear; -o-transition: all 1s linear; transition: all 1s linear; } rv-vchunk-item .xyvideo-icon-play, [riot-tag="rv-vchunk-item"] .xyvideo-icon-play{ position: absolute; top: 22%; left: 38%; font-size: 48px; color: #ccc; opacity: 0.6; }',function(e){this.on("mount",function(e){$(this.root).find("li").hover(function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").removeClass("hide")},function(e){$(e.currentTarget).find(".xvideo-thumbnail-mask").addClass("hide")})})}),riot.tag("rv-vtitle",'<div class="xvideo-vtitle-container clearfix {opts.headercolor}" style=""><div class="pull-left" style="width:50%;"><div if="{opts.type==\'vchunk-show\'}" style="width: auto;float: left;padding-left: 10px;padding-right: 20px;border-bottom: 2px solid #23b3eb;"><span class="xyvideo-icon xyvideo-icon-{opts.icon} xyvideo-vtitle-icon"></span> { opts.name } </div><button type="button" class="xvideo-vchunk-refresh pull-left ib" onclick="{ renew_video }" if="{is_show_refresh}"><span class="xyvideo-icon xyvideo-icon-refresh"></span> 换一批 </button><div if="{opts.type==\'vchunk\'}"><span class="xyvideo-icon xyvideo-icon-{opts.icon}"></span> { opts.name } <span class="xvideo-vtitle-order"><span>默认排序: </span><a class="xvideo-vtitle-order-active ml10px">最新发布<span class="xyvideo-icon xyvideo-icon-arrow-up"></span></a><a class="ml10px">最多播放<span class="xyvideo-icon xyvideo-icon-arrow-down"></span></a></span><span class="xvideo-vtitle-total">共计: <span>{opts.total}</span>个视频</span></div><div if="{opts.type==\'schunk\'}"><span>共计: <span>{opts.total}</span>个视频</span></div><span if="{!is_show_refresh && opts.icon !=\'movie\' }" class="xyvideo-icon xyvideo-icon-announcement refresh-desc"> 点击查看更多，去观看更多精品视频. </span></div><div class="pull-right xvideo-vchunk-morevideos" style="width:50%;"><div if="{opts.type==\'vchunk-show\'}" class="pull-right"><a href="{opts.href}">查看更多>></a></div><div if="{opts.type==\'vchunk\'}"><a href="{opts.href}">查看更多>></a></div><div if="{opts.type==\'schunk\'}"><span class="xyvideo-icon xyvideo-icon-{opts.icon}"></span> { opts.name } <span class="xvideo-vtitle-order"><span>默认排序: </span><span class="xvideo-vtitle-order-active">最新发布 <span class="xyvideo-icon xyvideo-icon-arrow-up"></span></span><span class="">最多播放 <span class="xyvideo-icon xyvideo-icon-arrow-down"></span></span></span></div></div></div>','rv-vtitle .rv-vchunk-container, [riot-tag="rv-vtitle"] .rv-vchunk-container{ width: 1280px; margin-top: 27px; } rv-vtitle .xvideo-vtitle-container.red .xvideo-vchunk-morevideos a, [riot-tag="rv-vtitle"] .xvideo-vtitle-container.red .xvideo-vchunk-morevideos a{ color: #fc4d51; font-size: 14px; text-decoration: none; transition: all 0.3s ease 0s; } rv-vtitle .xvideo-vtitle-container.dimred .xvideo-vchunk-morevideos a, [riot-tag="rv-vtitle"] .xvideo-vtitle-container.dimred .xvideo-vchunk-morevideos a{ color: #fc4d51; font-size: 14px; text-decoration: none; transition: all 0.3s ease 0s; } rv-vtitle .xvideo-vtitle-container, [riot-tag="rv-vtitle"] .xvideo-vtitle-container{ color: #fc4d51; font-size: 22px; width: 1176px; border-bottom: 2px solid #4C0E30; } rv-vtitle .xvideo-vchunk-morevideos, [riot-tag="rv-vtitle"] .xvideo-vchunk-morevideos{ position: relative; right: 1px; width: 50%; } rv-vtitle .xvideo-vtitle-container.dimred, [riot-tag="rv-vtitle"] .xvideo-vtitle-container.dimred{ height: 38px; color: #fc4d51; } rv-vtitle .xvideo-vtitle-container.red, [riot-tag="rv-vtitle"] .xvideo-vtitle-container.red{ color: #fc4d51; height: 38px; margin-top: 40px; } rv-vtitle .xvideo-vtitle-container.dimred .xyvideo-vtitle-icon, [riot-tag="rv-vtitle"] .xvideo-vtitle-container.dimred .xyvideo-vtitle-icon{ color: #fc4d51; padding-left: 10px; font-size: 28px; } rv-vtitle .xvideo-vtitle-container.red .xyvideo-vtitle-icon, [riot-tag="rv-vtitle"] .xvideo-vtitle-container.red .xyvideo-vtitle-icon{ color: #fc4d51; padding-left: 10px; font-size: 28px; } rv-vtitle .xvideo-vchunk-refresh, [riot-tag="rv-vtitle"] .xvideo-vchunk-refresh{ position: relative; bottom: -8px; color: #fc4d51; font-size: 16px; } rv-vtitle .xvideo-vchunk-refresh, [riot-tag="rv-vtitle"] .xvideo-vchunk-refresh{ width: 72px; height: 23px; padding: 0; background-color: transparent; border: 1px solid #fc4d51; border-radius: 15px; margin-left: 20px; vertical-align: middle; font-size: 12px; } rv-vtitle .xvideo-vchunk-refresh:hover, [riot-tag="rv-vtitle"] .xvideo-vchunk-refresh:hover{ color: #111; text-decoration: none; background-color: #fc4d51; border: 1px solid #fc4d51; transition: all 0.2s cubic-bezier(0.22, 0.61, 0.36, 1) 0.2s; } rv-vtitle .xvideo-vtitle-order, [riot-tag="rv-vtitle"] .xvideo-vtitle-order,rv-vtitle .xvideo-vtitle-total, [riot-tag="rv-vtitle"] .xvideo-vtitle-total{ margin-left: 35px; color: #171716; font-size: 14px; } rv-vtitle .xvideo-vtitle-order a, [riot-tag="rv-vtitle"] .xvideo-vtitle-order a{ color: #171716; } rv-vtitle .xvideo-vtitle-order a.xvideo-vtitle-order-active, [riot-tag="rv-vtitle"] .xvideo-vtitle-order a.xvideo-vtitle-order-active{ color: #ef3e36; } rv-vtitle .refresh-desc, [riot-tag="rv-vtitle"] .refresh-desc{ position: absolute; top: 40px; left: 140px; color: #fc4d51; margin-left: 20px; font-size: 14px; } rv-vtitle .xyvideo-icon-announcement, [riot-tag="rv-vtitle"] .xyvideo-icon-announcement{ margin-left: 30px; }',function(e){var t=this,i=this,a=1;this.is_show_refresh="false"!==e.is_show_refresh;var o=function(e){$.ajax({url:"video_shown/newest_selftime/"+e,type:"GET",dataType:"json"}).done(function(e){var t=i.parent;t.vitems=e.data,t.update(),$(".newest-original-video .xvideo-list li").addClass("xvideo-newest-video-img")})};this.renew_video=function(){if(3>a){switch(e.type){case"vchunk-show":o(a)}2==a&&(t.is_show_refresh=!1)}else t.is_show_refresh=!1;a++}}),riot.tag("rv-vtitle-ie8",'<div class="xvideo-vtitle-container clearfix {opts.headercolor}" style=""><div class="pull-left" style="width:50%;"><div if="{opts.type.vchunk_show}" style="width: auto;float: left;padding-left: 10px;padding-right: 20px;border-bottom: 2px solid #23b3eb;"><span class="icon-uniE{opts.icon} xyvideo-vtitle-icon xyvideo-icon-size{opts.icon}"></span> { opts.name } </div><button type="button" class="xvideo-vchunk-refresh pull-left ib" onclick="{ renew_video }" if="{is_show_refresh}"><span class="xyvideo-icon xyvideo-icon-refresh"></span> 换一批 </button><div if="{opts.type.vchunk}"><span class="icon-uniE{opts.icon}"></span> { opts.name } <span class="xvideo-vtitle-order"><span>默认排序: </span><a class="xvideo-vtitle-order-active ml10px">最新发布<span class="xyvideo-icon xyvideo-icon-arrow-up"></span></a><a class="ml10px">最多播放<span class="xyvideo-icon xyvideo-icon-arrow-down"></span></a></span><span class="xvideo-vtitle-total">共计: <span>{opts.total}</span>个视频</span></div><div if="{opts.type.schunk}"><span>共计: <span>{opts.total}</span>个视频</span></div><span if="{is_show_refresh && !opts.icon_move }" class="xyvideo-icon xyvideo-icon-announcement refresh-desc"> 点击查看更多，去自拍页面观看最新内容 </span></div><div class="pull-right xvideo-vchunk-morevideos" style="width:50%;"><div if="{opts.type.vchunk_show_more}" class="pull-right"><a href="{opts.href}">查看更多>></a></div><div if="{opts.type.vchunk}"><a href="{opts.href}">查看更多>></a></div><div if="{opts.type.schunk}"><span class="icon-uniE{opts.icon}"></span> { opts.name } <span class="xvideo-vtitle-order"><span>默认排序: </span><span class="xvideo-vtitle-order-active">最新发布 <span class="xyvideo-icon xyvideo-icon-arrow-up"></span></span><span class="">最多播放 <span class="xyvideo-icon xyvideo-icon-arrow-down"></span></span></span></div></div></div>',function(e){var t=this,i=1;this.is_show_refresh=this.opts.is_show_refresh;var a=function(e){$.ajax({url:"video_shown/newest_selftime/"+e,type:"GET",dataType:"json"}).done(function(e){riot.mount($(".rv-vchunk-list"),"rv-stvideolist",{videoitems:e.data})})};this.renew_video=function(){if(3>i){switch(e.type.vchunk_show){case!0:a(i)}2==i&&(t.is_show_refresh=!1)}else t.is_show_refresh=!1;i++}});